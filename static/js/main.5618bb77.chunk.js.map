{"version":3,"sources":["models/encounter-map.ts","models/damage.ts","models/proficiency.ts","models/skill.ts","models/trait.ts","models/feature.ts","utils/utils.ts","models/campaign-map.ts","models/action.ts","data/background-list.ts","models/background.ts","data/role-list.ts","models/role.ts","data/species-list.ts","models/species.ts","models/hero.ts","models/game.ts","components/campaign-map-panel.tsx","components/screens/campaign-map-screen.tsx","components/encounter-map-panel.tsx","components/screens/encounter-screen.tsx","utils/name-generator.ts","components/align.tsx","models/location.ts","components/character-sheet.tsx","data/item-list.ts","models/item.ts","components/padding.tsx","components/playing-card.tsx","components/hero-builder-panel.tsx","components/hero-level-up-panel.tsx","components/screens/heroes-screen.tsx","components/screens/landing-screen.tsx","components/main.tsx","models/encounter.ts","index.js"],"names":["EncounterMapHelper","DamageCategory","DamageType","Proficiency","SkillCategory","Skill","Trait","FeatureType","Utils","uuid4","collection","sorts","length","field","dir","sort","a","b","order","forEach","undefined","fn","currentIndex","randomIndex","randomNumber","temporaryValue","func","delay","timeout","clearTimeout","setTimeout","max","Math","floor","random","FeatureHelper","feature","type","DamageBonus","damage","rank","DamageCategoryBonus","damageCategory","DamageResist","DamageCategoryResist","proficiency","skill","skillCategory","trait","Any","id","guid","None","category","universalFeatures","createTraitFeature","createSkillFeature","createProficiencyFeature","CampaignMapHelper","ActionHelper","name","universalActions","BackgroundList","features","Athletics","Speed","actions","createPlaceholder","Spellcasting","createDamageCategoryBonusFeature","Energy","Corruption","createDamageCategoryResistFeature","Brawl","Weapon","Physical","Endurance","Resolve","createDamageResistFeature","All","Reactions","Stealth","BackgroundHelper","find","deck","push","RoleList","traits","skills","proficiencies","LargeWeapons","LightArmor","PairedWeapons","Implements","createDamageBonusFeature","Psychic","PowderWeapons","RangedWeapons","Perception","MilitaryWeapons","HeavyArmor","Shields","RoleHelper","r","SpeciesList","Poison","SpeciesHelper","s","HeroHelper","PlaceholderName","speciesID","roleID","backgroundID","level","xp","items","size","hero","getSpecies","getRole","getBackground","concat","list","i","value","bonuses","filter","t","activeFeatures","f","Mental","getCategory","profs","includes","GameHelper","heroes","createHero","map","createMap","encounter","CampaignMapPanel","React","Component","render","CampaignMapScreen","this","props","game","gutter","span","block","onClick","viewHeroes","startEncounter","abandonCampaign","EncounterMapPanel","EncounterScreen","victory","finish","defeat","retreat","concede","NameGenerator","starts","join","toLowerCase","split","ends","startIndex","endIndex","separator","separators","capitalise","str","val","toUpperCase","substring","Align","justify","horizontal","align","vertical","style","width","height","children","defaultProps","Location","CharacterSheet","constructor","super","state","view","info","display","className","flexDirection","flex","Paragraph","content","percent","showInfo","Title","Group","buttonStyle","onChange","e","setState","target","Button","ItemList","location","weapon","Impact","range","unreliable","Hand","Edged","Piercing","TwoHands","Neck","Body","createSkillCategoryFeature","ItemHelper","Padding","padding","PlayingCard","role","back","HeroBuilderPanel","select","addItems","finished","cardInfo","species","background","itemInfo","CardSelector","speciesIDs","shuffle","getDeck","splice","roleIDs","backgroundIDs","selectedSpeciesID","selectedRoleID","selectedBackgroundID","selectSpecies","selectRole","selectBackground","speciesCards","key","textAlign","toString","getName","roleCards","backgroundCards","canSelect","disabled","EquipmentSelector","selectItem","item","getItem","slots","prof","n","currentItemIDs","getItems","wpn","HeroLevelUpPanel","selectedTrait","selectedSkill","selectedFeature","traitOK","skillOK","featureOK","hasChoice","canFinish","onSelect","onSelectDamageCategory","onSelectDamageType","onSelectProficiency","onSelectSkill","onSelectSkillCategory","onSelectTrait","SelectTraitPanel","SelectSkillPanel","SelectSkillCategoryPanel","SelectProficiencyPanel","SelectDamagePanel","Acid","Cold","Electricity","Fire","Light","Sonic","Decay","SelectDamageCategoryPanel","SelectFeaturePanel","featureDeck","featureCards","extra","d","dc","p","sc","HeroesScreen","selectedHero","card","btn","incrementXP","drawerTitle","drawerContent","drawerClosable","generateName","addHero","levelUp","mapBtn","every","h","title","visible","closable","maskClosable","onClose","LandingScreen","continueCampaign","startCampaign","Main","saveAfterDelay","debounce","save","window","localStorage","JSON","parse","ex","console","error","screen","componentDidUpdate","changeValue","source","tokens","obj","token","nudgeValue","delta","saveKey","json","stringify","setItem","getContent","createGame","heroIDs","monsters","createEncounter","index","findIndex","getHeading","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.5618bb77.chunk.js","sourcesContent":["export interface EncounterMap {\r\n\t//\r\n}\r\n\r\nexport class EncounterMapHelper {\r\n\tpublic static createMap(): EncounterMap {\r\n\t\treturn {\r\n\t\t\t//\r\n\t\t};\r\n\t}\r\n}\r\n","export enum DamageCategory {\r\n\tNone = 'None',\r\n\tAny = 'Any damage category',\r\n\tAll = 'All damage categories',\r\n\tPhysical = 'Physical',\r\n\tEnergy = 'Energy',\r\n\tCorruption = 'Corruption'\r\n}\r\n\r\nexport enum DamageType {\r\n\tNone = 'None',\r\n\tAny = 'Any damage type',\r\n\tAll = 'All damage types',\r\n\tAcid = 'Acid',\r\n\tEdged = 'Edged',\r\n\tImpact = 'Impact',\r\n\tPiercing = 'Piercing',\r\n\tCold = 'Cold',\r\n\tElectricity = 'Electricity',\r\n\tFire = 'Fire',\r\n\tLight = 'Light',\r\n\tSonic = 'Sonic',\r\n\tDecay = 'Decay',\r\n\tPoison = 'Poison',\r\n\tPsychic = 'Psychic'\r\n}\r\n\r\nexport class DamageHelper {\r\n\tpublic static getCategory(type: DamageType) {\r\n\t\tswitch (type) {\r\n\t\t\tcase DamageType.All:\r\n\t\t\t\treturn DamageCategory.All;\r\n\t\t\tcase DamageType.Acid:\r\n\t\t\tcase DamageType.Edged:\r\n\t\t\tcase DamageType.Impact:\r\n\t\t\tcase DamageType.Piercing:\r\n\t\t\t\treturn DamageCategory.Physical;\r\n\t\t\tcase DamageType.Cold:\r\n\t\t\tcase DamageType.Electricity:\r\n\t\t\tcase DamageType.Fire:\r\n\t\t\tcase DamageType.Light:\r\n\t\t\tcase DamageType.Sonic:\r\n\t\t\t\treturn DamageCategory.Energy;\r\n\t\t\tcase DamageType.Decay:\r\n\t\t\tcase DamageType.Poison:\r\n\t\t\tcase DamageType.Psychic:\r\n\t\t\t\treturn DamageCategory.Corruption;\r\n\t\t}\r\n\r\n\t\treturn DamageCategory.None;\r\n\t}\r\n}\r\n","export enum Proficiency {\r\n\tNone = 'None',\r\n\tAny = 'Any proficiency',\r\n\tAll = 'All proficiencies',\r\n\tMilitaryWeapons = 'Military weapons',\r\n\tLargeWeapons = 'Large weapons',\r\n\tPairedWeapons = 'Paired weapons',\r\n\tRangedWeapons = 'Ranged weapons',\r\n\tPowderWeapons = 'Powder weapons',\r\n\tImplements = 'Implements',\r\n\tLightArmor = 'Light armor',\r\n\tHeavyArmor = 'Heavy armor',\r\n\tShields = 'Shields'\r\n}\r\n","export enum SkillCategory {\r\n\tNone = 'None',\r\n\tAny = 'Any skill category',\r\n\tAll = 'All skill categories',\r\n\tPhysical = 'Physical',\r\n\tMental = 'Mental'\r\n}\r\n\r\nexport enum Skill {\r\n\tNone = 'None',\r\n\tAny = 'Any skill',\r\n\tAll = 'All skills',\r\n\tAthletics = 'Athletics',\r\n\tBrawl = 'Brawl',\r\n\tPerception = 'Perception',\r\n\tReactions = 'Reactions',\r\n\tSpellcasting = 'Spellcasting',\r\n\tStealth = 'Stealth',\r\n\tWeapon = 'Weapon'\r\n}\r\n\r\nexport class SkillHelper {\r\n\tpublic static getCategory(skill: Skill) {\r\n\t\tswitch (skill) {\r\n\t\t\tcase Skill.All:\r\n\t\t\t\treturn SkillCategory.All;\r\n\t\t\tcase Skill.Athletics:\r\n\t\t\tcase Skill.Brawl:\r\n\t\t\tcase Skill.Stealth:\r\n\t\t\tcase Skill.Weapon:\r\n\t\t\t\treturn SkillCategory.Physical;\r\n\t\t\tcase Skill.Perception:\r\n\t\t\tcase Skill.Reactions:\r\n\t\t\tcase Skill.Spellcasting:\r\n\t\t\t\treturn SkillCategory.Mental;\r\n\t\t}\r\n\r\n\t\treturn SkillCategory.None;\r\n\t}\r\n}\r\n","export enum Trait {\r\n\tNone = 'None',\r\n\tAny = 'Any trait',\r\n\tAll = 'All traits',\r\n\tEndurance = 'Endurance',\r\n\tResolve = 'Resolve',\r\n\tSpeed = 'Speed'\r\n}\r\n\r\nexport class TraitHelper {\r\n\tpublic static toText(trait: Trait) {\r\n\t\treturn trait;\r\n\t}\r\n}\r\n","import { Utils } from '../utils/utils';\r\nimport { DamageCategory, DamageType } from './damage';\r\nimport { Proficiency } from './proficiency';\r\nimport { Skill, SkillCategory } from './skill';\r\nimport { Trait } from './trait';\r\n\r\nexport enum FeatureType {\r\n\t// TODO: Aura\r\n\tDamageBonus = 'Damage bonus',\r\n\tDamageCategoryBonus = 'Damage category bonus',\r\n\tDamageResist = 'Damage resistance',\r\n\tDamageCategoryResist = 'Damage category resistance',\r\n\tProficiency = 'Proficiency',\r\n\tSkill = 'Skill',\r\n\tSkillCategory = 'Skill category',\r\n\tTrait = 'Trait'\r\n}\r\n\r\nexport interface Feature {\r\n\tid: string;\r\n\ttype: FeatureType;\r\n\tdamage: DamageType;\r\n\tdamageCategory: DamageCategory;\r\n\tproficiency: Proficiency;\r\n\tskill: Skill;\r\n\tskillCategory: SkillCategory;\r\n\ttrait: Trait;\r\n\trank: number;\r\n}\r\n\r\nexport class FeatureHelper {\r\n\tpublic static universalFeatures: Feature[] = [\r\n\t\tFeatureHelper.createTraitFeature(Trait.Any, 1),\r\n\t\tFeatureHelper.createSkillFeature(Skill.Any, 1),\r\n\t\tFeatureHelper.createProficiencyFeature(Proficiency.Any)\r\n\t];\r\n\r\n\tpublic static getName(feature: Feature) {\r\n\t\tswitch (feature.type) {\r\n\t\t\tcase FeatureType.DamageBonus:\r\n\t\t\t\treturn feature.damage + ' ' + feature.rank;\r\n\t\t\tcase FeatureType.DamageCategoryBonus:\r\n\t\t\t\treturn feature.damageCategory + feature.rank;\r\n\t\t\tcase FeatureType.DamageResist:\r\n\t\t\t\treturn feature.damage + ' resistance ' + feature.rank;\r\n\t\t\tcase FeatureType.DamageCategoryResist:\r\n\t\t\t\treturn feature.damageCategory + ' resistance ' + feature.rank;\r\n\t\t\tcase FeatureType.Proficiency:\r\n\t\t\t\treturn feature.proficiency;\r\n\t\t\tcase FeatureType.Skill:\r\n\t\t\t\treturn feature.skill + ' ' + feature.rank;\r\n\t\t\tcase FeatureType.SkillCategory:\r\n\t\t\t\treturn feature.skillCategory + ' skills ' + feature.rank;\r\n\t\t\tcase FeatureType.Trait:\r\n\t\t\t\treturn feature.trait + ' ' + feature.rank;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static hasChoice(feature: Feature) {\r\n\t\tswitch (feature.type) {\r\n\t\t\tcase FeatureType.DamageBonus:\r\n\t\t\tcase FeatureType.DamageResist:\r\n\t\t\t\treturn feature.damage === DamageType.Any;\r\n\t\t\tcase FeatureType.DamageCategoryBonus:\r\n\t\t\tcase FeatureType.DamageCategoryResist:\r\n\t\t\t\treturn feature.damageCategory === DamageCategory.Any;\r\n\t\t\tcase FeatureType.Proficiency:\r\n\t\t\t\treturn feature.proficiency === Proficiency.Any;\r\n\t\t\tcase FeatureType.Skill:\r\n\t\t\t\treturn feature.skill === Skill.Any;\r\n\t\t\tcase FeatureType.SkillCategory:\r\n\t\t\t\treturn feature.skillCategory === SkillCategory.Any;\r\n\t\t\tcase FeatureType.Trait:\r\n\t\t\t\treturn feature.trait === Trait.Any;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static createDamageBonusFeature(damage: DamageType, rank: number): Feature {\r\n\t\treturn {\r\n\t\t\tid: Utils.guid(),\r\n\t\t\ttype: FeatureType.DamageBonus,\r\n\t\t\tdamage: damage,\r\n\t\t\tdamageCategory: DamageCategory.None,\r\n\t\t\tproficiency: Proficiency.None,\r\n\t\t\tskill: Skill.None,\r\n\t\t\tskillCategory: SkillCategory.None,\r\n\t\t\ttrait: Trait.None,\r\n\t\t\trank: rank\r\n\t\t};\r\n\t}\r\n\r\n\tpublic static createDamageCategoryBonusFeature(category: DamageCategory, rank: number): Feature {\r\n\t\treturn {\r\n\t\t\tid: Utils.guid(),\r\n\t\t\ttype: FeatureType.DamageCategoryBonus,\r\n\t\t\tdamage: DamageType.None,\r\n\t\t\tdamageCategory: category,\r\n\t\t\tproficiency: Proficiency.None,\r\n\t\t\tskill: Skill.None,\r\n\t\t\tskillCategory: SkillCategory.None,\r\n\t\t\ttrait: Trait.None,\r\n\t\t\trank: rank\r\n\t\t};\r\n\t}\r\n\r\n\tpublic static createDamageResistFeature(damage: DamageType, rank: number): Feature {\r\n\t\treturn {\r\n\t\t\tid: Utils.guid(),\r\n\t\t\ttype: FeatureType.DamageResist,\r\n\t\t\tdamage: damage,\r\n\t\t\tdamageCategory: DamageCategory.None,\r\n\t\t\tproficiency: Proficiency.None,\r\n\t\t\tskill: Skill.None,\r\n\t\t\tskillCategory: SkillCategory.None,\r\n\t\t\ttrait: Trait.None,\r\n\t\t\trank: rank\r\n\t\t};\r\n\t}\r\n\r\n\tpublic static createDamageCategoryResistFeature(category: DamageCategory, rank: number): Feature {\r\n\t\treturn {\r\n\t\t\tid: Utils.guid(),\r\n\t\t\ttype: FeatureType.DamageCategoryResist,\r\n\t\t\tdamage: DamageType.None,\r\n\t\t\tdamageCategory: category,\r\n\t\t\tproficiency: Proficiency.None,\r\n\t\t\tskill: Skill.None,\r\n\t\t\tskillCategory: SkillCategory.None,\r\n\t\t\ttrait: Trait.None,\r\n\t\t\trank: rank\r\n\t\t};\r\n\t}\r\n\r\n\tpublic static createProficiencyFeature(proficiency: Proficiency): Feature {\r\n\t\treturn {\r\n\t\t\tid: Utils.guid(),\r\n\t\t\ttype: FeatureType.Proficiency,\r\n\t\t\tdamage: DamageType.None,\r\n\t\t\tdamageCategory: DamageCategory.None,\r\n\t\t\tproficiency: proficiency,\r\n\t\t\tskill: Skill.None,\r\n\t\t\tskillCategory: SkillCategory.None,\r\n\t\t\ttrait: Trait.None,\r\n\t\t\trank: 0\r\n\t\t};\r\n\t}\r\n\r\n\tpublic static createSkillFeature(skill: Skill, rank: number): Feature {\r\n\t\treturn {\r\n\t\t\tid: Utils.guid(),\r\n\t\t\ttype: FeatureType.Skill,\r\n\t\t\tdamage: DamageType.None,\r\n\t\t\tdamageCategory: DamageCategory.None,\r\n\t\t\tproficiency: Proficiency.None,\r\n\t\t\tskill: skill,\r\n\t\t\tskillCategory: SkillCategory.None,\r\n\t\t\ttrait: Trait.None,\r\n\t\t\trank: rank\r\n\t\t};\r\n\t}\r\n\r\n\tpublic static createSkillCategoryFeature(category: SkillCategory, rank: number): Feature {\r\n\t\treturn {\r\n\t\t\tid: Utils.guid(),\r\n\t\t\ttype: FeatureType.SkillCategory,\r\n\t\t\tdamage: DamageType.None,\r\n\t\t\tdamageCategory: DamageCategory.None,\r\n\t\t\tproficiency: Proficiency.None,\r\n\t\t\tskill: Skill.None,\r\n\t\t\tskillCategory: category,\r\n\t\t\ttrait: Trait.None,\r\n\t\t\trank: rank\r\n\t\t};\r\n\t}\r\n\r\n\tpublic static createTraitFeature(trait: Trait, rank: number): Feature {\r\n\t\treturn {\r\n\t\t\tid: Utils.guid(),\r\n\t\t\ttype: FeatureType.Trait,\r\n\t\t\tdamage: DamageType.None,\r\n\t\t\tdamageCategory: DamageCategory.None,\r\n\t\t\tproficiency: Proficiency.None,\r\n\t\t\tskill: Skill.None,\r\n\t\t\tskillCategory: SkillCategory.None,\r\n\t\t\ttrait: trait,\r\n\t\t\trank: rank\r\n\t\t};\r\n\t}\r\n}\r\n","import { v4 as uuid4 } from 'uuid';\r\n\r\nexport class Utils {\r\n\tpublic static guid(): string {\r\n\t\treturn uuid4();\r\n\t}\r\n\r\n\tpublic static sort<T>(collection: T[], sorts: { field: string, dir: 'asc' | 'desc' }[] = []) {\r\n\t\tif (sorts.length === 0) {\r\n\t\t\tsorts = [{ field: 'name', dir: 'asc' }];\r\n\t\t}\r\n\r\n\t\tconst fn = (a: any, b: any, field: string): number => {\r\n\t\t\tif ((a[field] !== undefined) && (b[field] !== undefined)) {\r\n\t\t\t\tif (a[field] < b[field]) { return -1; }\r\n\t\t\t\tif (a[field] > b[field]) { return 1; }\r\n\t\t\t}\r\n\t\t\treturn 0;\r\n\t\t};\r\n\r\n\t\tcollection.sort((a, b) => {\r\n\t\t\tlet order = 0;\r\n\t\t\tsorts.forEach(sort => {\r\n\t\t\t\tif (order === 0) {\r\n\t\t\t\t\torder = fn(a, b, sort.field) * (sort.dir === 'asc' ? 1 : -1);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn order;\r\n\t\t});\r\n\r\n\t\treturn collection;\r\n\t}\r\n\r\n\tpublic static shuffle<T>(collection: T[]) {\r\n\t\tlet currentIndex = collection.length;\r\n\t\twhile (0 !== currentIndex) {\r\n\t\t\tconst randomIndex = Utils.randomNumber(currentIndex);\r\n\t\t\tcurrentIndex -= 1;\r\n\r\n\t\t\tconst temporaryValue = collection[currentIndex];\r\n\t\t\tcollection[currentIndex] = collection[randomIndex];\r\n\t\t\tcollection[randomIndex] = temporaryValue;\r\n\t\t}\r\n\r\n\t\treturn collection;\r\n\t}\r\n\r\n\tpublic static debounce(func: () => void, delay: number = 500) {\r\n\t\tlet timeout: NodeJS.Timeout;\r\n\t\treturn () => {\r\n\t\t\tclearTimeout(timeout);\r\n\t\t\ttimeout = setTimeout(func, delay);\r\n\t\t};\r\n\t}\r\n\r\n\tpublic static randomNumber(max: number) {\r\n\t\tif (max <= 0) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\t// tslint:disable-next-line: insecure-random\r\n\t\treturn Math.floor(Math.random() * max);\r\n\t}\r\n\r\n\tpublic static randomBoolean() {\r\n\t\treturn Utils.randomNumber(2) === 0;\r\n\t}\r\n\r\n\tpublic static randomDecimal() {\r\n\t\treturn Utils.randomNumber(100) / 100;\r\n\t}\r\n}\r\n","export interface CampaignMap {\r\n\t//\r\n}\r\n\r\nexport class CampaignMapHelper {\r\n\tpublic static createMap(): CampaignMap {\r\n\t\treturn {\r\n\t\t\t//\r\n\t\t};\r\n\t}\r\n}\r\n","import { Utils } from '../utils/utils';\r\n\r\nexport interface Action {\r\n\tid: string;\r\n\tname: string;\r\n}\r\n\r\nexport class ActionHelper {\r\n\tpublic static universalActions: Action[] = [\r\n\t\t// TODO: Unarmed attack\r\n\t];\r\n\r\n\tpublic static createPlaceholder(name: string): Action {\r\n\t\treturn {\r\n\t\t\tid: Utils.guid(),\r\n\t\t\tname: name\r\n\t\t};\r\n\t}\r\n}\r\n","import { ActionHelper } from '../models/action';\r\nimport { Background } from '../models/background';\r\nimport { DamageCategory, DamageType } from '../models/damage';\r\nimport { FeatureHelper } from '../models/feature';\r\nimport { Skill } from '../models/skill';\r\nimport { Trait } from '../models/trait';\r\n\r\nexport const BackgroundList: Background[] = [\r\n\t{\r\n\t\tid: 'background-acrobat',\r\n\t\tname: 'Acrobat',\r\n\t\tfeatures: [\r\n\t\t\tFeatureHelper.createSkillFeature(Skill.Athletics, 2),\r\n\t\t\tFeatureHelper.createTraitFeature(Trait.Speed, 1)\r\n\t\t\t// TODO: Move through occupied spaces\r\n\t\t],\r\n\t\tactions: [\r\n\t\t\t//\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tid: 'background-commander',\r\n\t\tname: 'Commander',\r\n\t\tfeatures: [\r\n\t\t\t// TODO: Protection aura\r\n\t\t],\r\n\t\tactions: [\r\n\t\t\tActionHelper.createPlaceholder('Knock prone'),\r\n\t\t\tActionHelper.createPlaceholder('Extra move')\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tid: 'background-mountebank',\r\n\t\tname: 'Mountebank',\r\n\t\tfeatures: [\r\n\t\t\t// TODO: Attack redirection aura\r\n\t\t],\r\n\t\tactions: [\r\n\t\t\tActionHelper.createPlaceholder('Command attack'),\r\n\t\t\tActionHelper.createPlaceholder('Command move'),\r\n\t\t\tActionHelper.createPlaceholder('Buff ally')\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tid: 'background-mystic',\r\n\t\tname: 'Mystic',\r\n\t\tfeatures: [\r\n\t\t\tFeatureHelper.createSkillFeature(Skill.Spellcasting, 2),\r\n\t\t\tFeatureHelper.createDamageCategoryBonusFeature(DamageCategory.Energy, 1),\r\n\t\t\tFeatureHelper.createDamageCategoryBonusFeature(DamageCategory.Corruption, 1),\r\n\t\t\tFeatureHelper.createDamageCategoryResistFeature(DamageCategory.Corruption, 1)\r\n\t\t],\r\n\t\tactions: [\r\n\t\t\tActionHelper.createPlaceholder('Confusion (target makes attack)'),\r\n\t\t\tActionHelper.createPlaceholder('Stun (target loses action)'),\r\n\t\t\tActionHelper.createPlaceholder('Transfer a condition')\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tid: 'background-noble',\r\n\t\tname: 'Noble',\r\n\t\tfeatures: [\r\n\t\t\t// TODO: Buffing arua\r\n\t\t],\r\n\t\tactions: [\r\n\t\t\tActionHelper.createPlaceholder('Buff ally'),\r\n\t\t\tActionHelper.createPlaceholder('Debuff enemy'),\r\n\t\t\tActionHelper.createPlaceholder('Taunt')\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tid: 'background-physician',\r\n\t\tname: 'Physician',\r\n\t\tfeatures: [\r\n\t\t\t// TODO: Healing aura\r\n\t\t],\r\n\t\tactions: [\r\n\t\t\tActionHelper.createPlaceholder('Remove condition (ally)'),\r\n\t\t\tActionHelper.createPlaceholder('Healing (damage)'),\r\n\t\t\tActionHelper.createPlaceholder('Healing (wounds)')\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tid: 'background-reaver',\r\n\t\tname: 'Reaver',\r\n\t\tfeatures: [\r\n\t\t\tFeatureHelper.createSkillFeature(Skill.Brawl, 2),\r\n\t\t\tFeatureHelper.createSkillFeature(Skill.Weapon, 2),\r\n\t\t\tFeatureHelper.createDamageCategoryResistFeature(DamageCategory.Any, 1),\r\n\t\t\tFeatureHelper.createDamageCategoryBonusFeature(DamageCategory.Physical, 1)\r\n\t\t],\r\n\t\tactions: [\r\n\t\t\tActionHelper.createPlaceholder('Frenzy (adds to damage)'),\r\n\t\t\tActionHelper.createPlaceholder('Speed boost'),\r\n\t\t\tActionHelper.createPlaceholder('Endurance boost')\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tid: 'background-sentinel',\r\n\t\tname: 'Sentinel',\r\n\t\tfeatures: [\r\n\t\t\tFeatureHelper.createTraitFeature(Trait.Endurance, 1),\r\n\t\t\tFeatureHelper.createTraitFeature(Trait.Resolve, 1),\r\n\t\t\tFeatureHelper.createDamageResistFeature(DamageType.All, 1)\r\n\t\t\t// TODO: Prevent disengage aura\r\n\t\t],\r\n\t\tactions: [\r\n\t\t\tActionHelper.createPlaceholder('Mark enemy'),\r\n\t\t\tActionHelper.createPlaceholder('Interposing stance')\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tid: 'background-thief',\r\n\t\tname: 'Thief',\r\n\t\tfeatures: [\r\n\t\t\tFeatureHelper.createSkillFeature(Skill.Reactions, 2),\r\n\t\t\tFeatureHelper.createSkillFeature(Skill.Stealth, 2)\r\n\t\t\t// TODO: Attack redirection aura\r\n\t\t],\r\n\t\tactions: [\r\n\t\t\tActionHelper.createPlaceholder('Disable trap'),\r\n\t\t\tActionHelper.createPlaceholder('Set trap')\r\n\t\t]\r\n\t}\r\n];\r\n","import { BackgroundList } from '../data/background-list';\r\nimport { Action } from './action';\r\nimport { Feature } from './feature';\r\n\r\nexport interface Background {\r\n\tid: string;\r\n\tname: string;\r\n\tfeatures: Feature[];\r\n\tactions: Action[];\r\n}\r\n\r\nexport class BackgroundHelper {\r\n\tpublic static getBackground(id: string) {\r\n\t\treturn BackgroundList.find(b => b.id === id);\r\n\t}\r\n\r\n\tpublic static getDeck() {\r\n\t\tconst deck: string[] = [];\r\n\r\n\t\tBackgroundList.forEach(b => {\r\n\t\t\tdeck.push(b.id);\r\n\t\t});\r\n\r\n\t\treturn deck;\r\n\t}\r\n}\r\n","import { ActionHelper } from '../models/action';\r\nimport { DamageCategory, DamageType } from '../models/damage';\r\nimport { FeatureHelper } from '../models/feature';\r\nimport { Proficiency } from '../models/proficiency';\r\nimport { Role } from '../models/role';\r\nimport { Skill } from '../models/skill';\r\nimport { Trait } from '../models/trait';\r\n\r\nexport const RoleList: Role[] = [\r\n\t{\r\n\t\tid: 'role-barbarian',\r\n\t\tname: 'Barbarian',\r\n\t\ttraits: [\r\n\t\t\tTrait.Endurance\r\n\t\t],\r\n\t\tskills: [\r\n\t\t\tSkill.Weapon\r\n\t\t],\r\n\t\tproficiencies: [\r\n\t\t\tProficiency.LargeWeapons,\r\n\t\t\tProficiency.LightArmor\r\n\t\t],\r\n\t\tfeatures: [\r\n\t\t\tFeatureHelper.createTraitFeature(Trait.Endurance, 1),\r\n\t\t\tFeatureHelper.createSkillFeature(Skill.Weapon, 2),\r\n\t\t\tFeatureHelper.createDamageCategoryBonusFeature(DamageCategory.Physical, 1),\r\n\t\t\tFeatureHelper.createDamageCategoryResistFeature(DamageCategory.Physical, 1)\r\n\t\t],\r\n\t\tactions: [\r\n\t\t\tActionHelper.createPlaceholder('Overhead strike'),\r\n\t\t\tActionHelper.createPlaceholder('Knockdown strike'),\r\n\t\t\tActionHelper.createPlaceholder('Stunning strike'),\r\n\t\t\tActionHelper.createPlaceholder('Haymaker strike')\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tid: 'role-dervish',\r\n\t\tname: 'Dervish',\r\n\t\ttraits: [\r\n\t\t\tTrait.Speed\r\n\t\t],\r\n\t\tskills: [\r\n\t\t\tSkill.Weapon\r\n\t\t],\r\n\t\tproficiencies: [\r\n\t\t\tProficiency.PairedWeapons,\r\n\t\t\tProficiency.LightArmor\r\n\t\t],\r\n\t\tfeatures: [\r\n\t\t\tFeatureHelper.createTraitFeature(Trait.Speed, 1),\r\n\t\t\tFeatureHelper.createSkillFeature(Skill.Weapon, 2)\r\n\t\t],\r\n\t\tactions: [\r\n\t\t\tActionHelper.createPlaceholder('Dual strike (one target)'),\r\n\t\t\tActionHelper.createPlaceholder('Dual strike (two targets)'),\r\n\t\t\tActionHelper.createPlaceholder('Whirlwind strike'),\r\n\t\t\tActionHelper.createPlaceholder('Leaping strike'),\r\n\t\t\tActionHelper.createPlaceholder('Dodging stance (adds physical damage resistance)')\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tid: 'role-enchanter',\r\n\t\tname: 'Enchanter',\r\n\t\ttraits: [\r\n\t\t\tTrait.Resolve\r\n\t\t],\r\n\t\tskills: [\r\n\t\t\tSkill.Spellcasting\r\n\t\t],\r\n\t\tproficiencies: [\r\n\t\t\tProficiency.Implements\r\n\t\t],\r\n\t\tfeatures: [\r\n\t\t\tFeatureHelper.createTraitFeature(Trait.Resolve, 1),\r\n\t\t\tFeatureHelper.createSkillFeature(Skill.Spellcasting, 2),\r\n\t\t\tFeatureHelper.createDamageBonusFeature(DamageType.Psychic, 1),\r\n\t\t\tFeatureHelper.createDamageResistFeature(DamageType.Psychic, 1)\r\n\t\t],\r\n\t\tactions: [\r\n\t\t\tActionHelper.createPlaceholder('Confusion (target makes attack)'),\r\n\t\t\tActionHelper.createPlaceholder('Stun (target loses action)'),\r\n\t\t\tActionHelper.createPlaceholder('Fear (target loses speed)'),\r\n\t\t\tActionHelper.createPlaceholder('Mental shield (add psychic damage resistance)'),\r\n\t\t\tActionHelper.createPlaceholder('Weaken (reduce target\\'s damage)')\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tid: 'role-ninja',\r\n\t\tname: 'Ninja',\r\n\t\ttraits: [\r\n\t\t\tTrait.Speed\r\n\t\t],\r\n\t\tskills: [\r\n\t\t\tSkill.Brawl,\r\n\t\t\tSkill.Stealth\r\n\t\t],\r\n\t\tproficiencies: [\r\n\t\t\t// None\r\n\t\t],\r\n\t\tfeatures: [\r\n\t\t\tFeatureHelper.createTraitFeature(Trait.Speed, 1),\r\n\t\t\tFeatureHelper.createSkillFeature(Skill.Brawl, 2),\r\n\t\t\tFeatureHelper.createSkillFeature(Skill.Stealth, 2),\r\n\t\t\tFeatureHelper.createDamageCategoryBonusFeature(DamageCategory.Physical, 1)\r\n\t\t],\r\n\t\tactions: [\r\n\t\t\tActionHelper.createPlaceholder('Roundhouse kick'),\r\n\t\t\tActionHelper.createPlaceholder('Flurry (single target)'),\r\n\t\t\tActionHelper.createPlaceholder('Leaping kick'),\r\n\t\t\tActionHelper.createPlaceholder('Lightning speed (move)'),\r\n\t\t\tActionHelper.createPlaceholder('Adrenal boost (adds to attack / damage)')\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tid: 'role-gunslinger',\r\n\t\tname: 'Gunslinger',\r\n\t\ttraits: [\r\n\t\t\tTrait.Speed\r\n\t\t],\r\n\t\tskills: [\r\n\t\t\tSkill.Weapon\r\n\t\t],\r\n\t\tproficiencies: [\r\n\t\t\tProficiency.PowderWeapons\r\n\t\t],\r\n\t\tfeatures: [\r\n\t\t\tFeatureHelper.createTraitFeature(Trait.Speed, 1),\r\n\t\t\tFeatureHelper.createSkillFeature(Skill.Weapon, 2)\r\n\t\t],\r\n\t\tactions: [\r\n\t\t\tActionHelper.createPlaceholder('Deadeye (adds to next attack)'),\r\n\t\t\tActionHelper.createPlaceholder('Fire'),\r\n\t\t\tActionHelper.createPlaceholder('Pommel strike'),\r\n\t\t\tActionHelper.createPlaceholder('Quickfire (two attacks, low accuracy)'),\r\n\t\t\tActionHelper.createPlaceholder('Careful shot'),\r\n\t\t\tActionHelper.createPlaceholder('Fusilade (area, low damage)')\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tid: 'role-ranger',\r\n\t\tname: 'Ranger',\r\n\t\ttraits: [\r\n\t\t\tTrait.Endurance\r\n\t\t],\r\n\t\tskills: [\r\n\t\t\tSkill.Weapon\r\n\t\t],\r\n\t\tproficiencies: [\r\n\t\t\tProficiency.RangedWeapons,\r\n\t\t\tProficiency.LightArmor\r\n\t\t],\r\n\t\tfeatures: [\r\n\t\t\tFeatureHelper.createTraitFeature(Trait.Endurance, 1),\r\n\t\t\tFeatureHelper.createSkillFeature(Skill.Perception, 2),\r\n\t\t\tFeatureHelper.createSkillFeature(Skill.Weapon, 2)\r\n\t\t],\r\n\t\tactions: [\r\n\t\t\tActionHelper.createPlaceholder('Quick shot'),\r\n\t\t\tActionHelper.createPlaceholder('Sure shot'),\r\n\t\t\tActionHelper.createPlaceholder('Pinning shot (slows)'),\r\n\t\t\tActionHelper.createPlaceholder('Barrage (area, low damage)'),\r\n\t\t\tActionHelper.createPlaceholder('Aim (adds to next attack)')\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tid: 'role-soldier',\r\n\t\tname: 'Soldier',\r\n\t\ttraits: [\r\n\t\t\tTrait.Endurance\r\n\t\t],\r\n\t\tskills: [\r\n\t\t\tSkill.Weapon\r\n\t\t],\r\n\t\tproficiencies: [\r\n\t\t\tProficiency.MilitaryWeapons,\r\n\t\t\tProficiency.HeavyArmor,\r\n\t\t\tProficiency.Shields\r\n\t\t],\r\n\t\tfeatures: [\r\n\t\t\tFeatureHelper.createTraitFeature(Trait.Endurance, 1),\r\n\t\t\tFeatureHelper.createSkillFeature(Skill.Weapon, 2),\r\n\t\t\tFeatureHelper.createDamageCategoryBonusFeature(DamageCategory.Physical, 1)\r\n\t\t],\r\n\t\tactions: [\r\n\t\t\tActionHelper.createPlaceholder('Charge attack'),\r\n\t\t\tActionHelper.createPlaceholder('Precise attack'),\r\n\t\t\tActionHelper.createPlaceholder('Disarming attack'),\r\n\t\t\tActionHelper.createPlaceholder('Parrying stance'),\r\n\t\t\tActionHelper.createPlaceholder('Shield bash (push)')\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tid: 'role-sorcerer',\r\n\t\tname: 'Sorcerer',\r\n\t\ttraits: [\r\n\t\t\tTrait.Resolve\r\n\t\t],\r\n\t\tskills: [\r\n\t\t\tSkill.Spellcasting\r\n\t\t],\r\n\t\tproficiencies: [\r\n\t\t\tProficiency.Implements\r\n\t\t],\r\n\t\tfeatures: [\r\n\t\t\tFeatureHelper.createTraitFeature(Trait.Resolve, 1),\r\n\t\t\tFeatureHelper.createSkillFeature(Skill.Spellcasting, 2),\r\n\t\t\tFeatureHelper.createDamageCategoryBonusFeature(DamageCategory.Energy, 1)\r\n\t\t],\r\n\t\tactions: [\r\n\t\t\tActionHelper.createPlaceholder('Lightning bolt (single target, damage and stuns)'),\r\n\t\t\tActionHelper.createPlaceholder('Fireball (area, ongoing fire damage)'),\r\n\t\t\tActionHelper.createPlaceholder('Ice storm (area, damage and reduced speed)'),\r\n\t\t\tActionHelper.createPlaceholder('Elemental resistance'),\r\n\t\t\tActionHelper.createPlaceholder('Elemental aura (damage to nearby enemies)')\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tid: 'role-warmage',\r\n\t\tname: 'Warmage',\r\n\t\ttraits: [\r\n\t\t\tTrait.Resolve\r\n\t\t],\r\n\t\tskills: [\r\n\t\t\tSkill.Weapon\r\n\t\t],\r\n\t\tproficiencies: [\r\n\t\t\tProficiency.MilitaryWeapons,\r\n\t\t\tProficiency.LightArmor\r\n\t\t],\r\n\t\tfeatures: [\r\n\t\t\tFeatureHelper.createTraitFeature(Trait.Resolve, 1),\r\n\t\t\tFeatureHelper.createSkillFeature(Skill.Weapon, 2),\r\n\t\t\tFeatureHelper.createDamageCategoryBonusFeature(DamageCategory.Energy, 1),\r\n\t\t\tFeatureHelper.createDamageCategoryBonusFeature(DamageCategory.Physical, 1)\r\n\t\t],\r\n\t\tactions: [\r\n\t\t\tActionHelper.createPlaceholder('Flaming blade (ongoing fire)'),\r\n\t\t\tActionHelper.createPlaceholder('Frost blade (slows)'),\r\n\t\t\tActionHelper.createPlaceholder('Shocking blade (stuns)'),\r\n\t\t\tActionHelper.createPlaceholder('Armor enhancement'),\r\n\t\t\tActionHelper.createPlaceholder('XXX (attack at range)')\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tid: 'role-wizard',\r\n\t\tname: 'Wizard',\r\n\t\ttraits: [\r\n\t\t\tTrait.Resolve\r\n\t\t],\r\n\t\tskills: [\r\n\t\t\tSkill.Spellcasting\r\n\t\t],\r\n\t\tproficiencies: [\r\n\t\t\tProficiency.Implements\r\n\t\t],\r\n\t\tfeatures: [\r\n\t\t\tFeatureHelper.createTraitFeature(Trait.Resolve, 1),\r\n\t\t\tFeatureHelper.createSkillFeature(Skill.Spellcasting, 2),\r\n\t\t\tFeatureHelper.createDamageCategoryBonusFeature(DamageCategory.Energy, 1)\r\n\t\t],\r\n\t\tactions: [\r\n\t\t\tActionHelper.createPlaceholder('XXX (shield self, resist all damage)'),\r\n\t\t\tActionHelper.createPlaceholder('XXX (shield other, resist all damage)'),\r\n\t\t\tActionHelper.createPlaceholder('XXX (push)'),\r\n\t\t\tActionHelper.createPlaceholder('Magic missile'),\r\n\t\t\tActionHelper.createPlaceholder('Swap positions')\r\n\t\t]\r\n\t}\r\n];\r\n","import { RoleList } from '../data/role-list';\r\nimport { Action } from './action';\r\nimport { Feature } from './feature';\r\nimport { Proficiency } from './proficiency';\r\nimport { Skill } from './skill';\r\nimport { Trait } from './trait';\r\n\r\nexport interface Role {\r\n\tid: string;\r\n\tname: string;\r\n\ttraits: Trait[];\r\n\tskills: Skill[];\r\n\tproficiencies: Proficiency[];\r\n\tfeatures: Feature[];\r\n\tactions: Action[];\r\n}\r\n\r\nexport class RoleHelper {\r\n\tpublic static getRole(id: string) {\r\n\t\treturn RoleList.find(r => r.id === id);\r\n\t}\r\n\r\n\tpublic static getDeck() {\r\n\t\tconst deck: string[] = [];\r\n\r\n\t\tRoleList.forEach(r => {\r\n\t\t\tdeck.push(r.id);\r\n\t\t});\r\n\r\n\t\treturn deck;\r\n\t}\r\n}\r\n","import { ActionHelper } from '../models/action';\r\nimport { DamageCategory, DamageType } from '../models/damage';\r\nimport { FeatureHelper } from '../models/feature';\r\nimport { Skill } from '../models/skill';\r\nimport { Species } from '../models/species';\r\nimport { Trait } from '../models/trait';\r\n\r\nexport const SpeciesList: Species[] = [\r\n\t{\r\n\t\tid: 'species-human',\r\n\t\tname: 'Human',\r\n\t\ttraits: [\r\n\t\t\tTrait.All\r\n\t\t],\r\n\t\tfeatures: [\r\n\t\t\tFeatureHelper.createSkillFeature(Skill.Any, 2),\r\n\t\t\tFeatureHelper.createDamageBonusFeature(DamageType.Any, 1),\r\n\t\t\tFeatureHelper.createDamageResistFeature(DamageType.Any, 1)\r\n\t\t\t// TODO: Bonus action card slot\r\n\t\t],\r\n\t\tactions: [\r\n\t\t\tActionHelper.createPlaceholder('Resilient (remove condition on self)')\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tid: 'species-construct',\r\n\t\tname: 'Construct',\r\n\t\ttraits: [\r\n\t\t\tTrait.Endurance\r\n\t\t],\r\n\t\tfeatures: [\r\n\t\t\tFeatureHelper.createTraitFeature(Trait.Endurance, 1),\r\n\t\t\tFeatureHelper.createDamageResistFeature(DamageType.Poison, 1),\r\n\t\t\tFeatureHelper.createDamageResistFeature(DamageType.Psychic, 1)\r\n\t\t],\r\n\t\tactions: [\r\n\t\t\tActionHelper.createPlaceholder('Knockdown attack'),\r\n\t\t\tActionHelper.createPlaceholder('Repair (heal self damage)')\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tid: 'species-deva',\r\n\t\tname: 'Deva',\r\n\t\ttraits: [\r\n\t\t\tTrait.Resolve\r\n\t\t],\r\n\t\tfeatures: [\r\n\t\t\tFeatureHelper.createTraitFeature(Trait.Resolve, 1),\r\n\t\t\tFeatureHelper.createSkillFeature(Skill.Spellcasting, 2),\r\n\t\t\tFeatureHelper.createDamageCategoryResistFeature(DamageCategory.Corruption, 1)\r\n\t\t],\r\n\t\tactions: [\r\n\t\t\tActionHelper.createPlaceholder('Insight (see opponent stats)'),\r\n\t\t\tActionHelper.createPlaceholder('Divine light (spell vs resolve, stuns)')\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tid: 'species-dwarf',\r\n\t\tname: 'Dwarf',\r\n\t\ttraits: [\r\n\t\t\tTrait.Endurance\r\n\t\t],\r\n\t\tfeatures: [\r\n\t\t\tFeatureHelper.createTraitFeature(Trait.Endurance, 1),\r\n\t\t\tFeatureHelper.createTraitFeature(Trait.Resolve, 1),\r\n\t\t\tFeatureHelper.createDamageResistFeature(DamageType.Poison, 1),\r\n\t\t\tFeatureHelper.createDamageResistFeature(DamageType.Psychic, 1)\r\n\t\t],\r\n\t\tactions: [\r\n\t\t\tActionHelper.createPlaceholder('Remove endurance condition on self'),\r\n\t\t\tActionHelper.createPlaceholder('Remove resolve condition on self')\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tid: 'species-elf',\r\n\t\tname: 'Elf',\r\n\t\ttraits: [\r\n\t\t\tTrait.Speed\r\n\t\t],\r\n\t\tfeatures: [\r\n\t\t\tFeatureHelper.createTraitFeature(Trait.Speed, 1),\r\n\t\t\tFeatureHelper.createSkillFeature(Skill.Perception, 2),\r\n\t\t\tFeatureHelper.createSkillFeature(Skill.Reactions, 2),\r\n\t\t\tFeatureHelper.createSkillFeature(Skill.Stealth, 2)\r\n\t\t],\r\n\t\tactions: [\r\n\t\t\tActionHelper.createPlaceholder('Detect hidden opponents'),\r\n\t\t\tActionHelper.createPlaceholder('Elven Step (teleport self)')\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tid: 'species-gnome',\r\n\t\tname: 'Gnome',\r\n\t\ttraits: [\r\n\t\t\tTrait.Speed\r\n\t\t],\r\n\t\tfeatures: [\r\n\t\t\tFeatureHelper.createTraitFeature(Trait.Speed, 1),\r\n\t\t\tFeatureHelper.createSkillFeature(Skill.Reactions, 2),\r\n\t\t\tFeatureHelper.createSkillFeature(Skill.Stealth, 2)\r\n\t\t],\r\n\t\tactions: [\r\n\t\t\tActionHelper.createPlaceholder('Trip attack'),\r\n\t\t\tActionHelper.createPlaceholder('Disable trap')\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tid: 'species-minotaur',\r\n\t\tname: 'Minotaur',\r\n\t\ttraits: [\r\n\t\t\tTrait.Endurance\r\n\t\t],\r\n\t\tfeatures: [\r\n\t\t\tFeatureHelper.createTraitFeature(Trait.Endurance, 1),\r\n\t\t\tFeatureHelper.createSkillFeature(Skill.Brawl, 2),\r\n\t\t\tFeatureHelper.createDamageCategoryBonusFeature(DamageCategory.Physical, 1)\r\n\t\t],\r\n\t\tactions: [\r\n\t\t\tActionHelper.createPlaceholder('Gore attack'),\r\n\t\t\tActionHelper.createPlaceholder('Charge attack'),\r\n\t\t\tActionHelper.createPlaceholder('Intimidate')\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tid: 'species-pixie',\r\n\t\tname: 'Pixie',\r\n\t\ttraits: [\r\n\t\t\tTrait.Speed\r\n\t\t],\r\n\t\tfeatures: [\r\n\t\t\tFeatureHelper.createTraitFeature(Trait.Speed, 1),\r\n\t\t\tFeatureHelper.createSkillFeature(Skill.Stealth, 2)\r\n\t\t\t// TODO: Move through occupied spaces\r\n\t\t],\r\n\t\tactions: [\r\n\t\t\tActionHelper.createPlaceholder('Confusion (target makes attack)'),\r\n\t\t\tActionHelper.createPlaceholder('Lightning speed')\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tid: 'species-reptilian',\r\n\t\tname: 'Reptilian',\r\n\t\ttraits: [\r\n\t\t\tTrait.Speed\r\n\t\t],\r\n\t\tfeatures: [\r\n\t\t\tFeatureHelper.createTraitFeature(Trait.Speed, 1),\r\n\t\t\tFeatureHelper.createSkillFeature(Skill.Brawl, 2),\r\n\t\t\tFeatureHelper.createDamageCategoryResistFeature(DamageCategory.Physical, 1),\r\n\t\t\tFeatureHelper.createDamageResistFeature(DamageType.Psychic, 1)\r\n\t\t],\r\n\t\tactions: [\r\n\t\t\tActionHelper.createPlaceholder('Poison bite'),\r\n\t\t\tActionHelper.createPlaceholder('Fear snarl'),\r\n\t\t\tActionHelper.createPlaceholder('Regeneration')\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tid: 'species-shadowborn',\r\n\t\tname: 'Shadowborn',\r\n\t\ttraits: [\r\n\t\t\tTrait.Resolve\r\n\t\t],\r\n\t\tfeatures: [\r\n\t\t\tFeatureHelper.createTraitFeature(Trait.Resolve, 1),\r\n\t\t\tFeatureHelper.createSkillFeature(Skill.Brawl, 2),\r\n\t\t\tFeatureHelper.createSkillFeature(Skill.Stealth, 2),\r\n\t\t\tFeatureHelper.createDamageCategoryResistFeature(DamageCategory.Corruption, 1)\r\n\t\t\t// TODO: Draining aura\r\n\t\t],\r\n\t\tactions: [\r\n\t\t\tActionHelper.createPlaceholder('Transfer a condition'),\r\n\t\t\tActionHelper.createPlaceholder('Induce fear'),\r\n\t\t\tActionHelper.createPlaceholder('Drain energy')\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tid: 'species-werewolf',\r\n\t\tname: 'Werewolf',\r\n\t\ttraits: [\r\n\t\t\tTrait.Resolve\r\n\t\t],\r\n\t\tfeatures: [\r\n\t\t\tFeatureHelper.createTraitFeature(Trait.Resolve, 1),\r\n\t\t\tFeatureHelper.createSkillFeature(Skill.Brawl, 2),\r\n\t\t\tFeatureHelper.createSkillFeature(Skill.Perception, 2),\r\n\t\t\tFeatureHelper.createSkillFeature(Skill.Stealth, 2)\r\n\t\t],\r\n\t\tactions: [\r\n\t\t\tActionHelper.createPlaceholder('Regeneration'),\r\n\t\t\tActionHelper.createPlaceholder('Bite attack'),\r\n\t\t\tActionHelper.createPlaceholder('Claw attack')\r\n\t\t]\r\n\t}\r\n];\r\n","import { SpeciesList } from '../data/species-list';\r\nimport { Action } from './action';\r\nimport { Feature } from './feature';\r\nimport { Trait } from './trait';\r\n\r\nexport interface Species {\r\n\tid: string;\r\n\tname: string;\r\n\ttraits: Trait[];\r\n\tfeatures: Feature[];\r\n\tactions: Action[];\r\n}\r\n\r\nexport class SpeciesHelper {\r\n\tpublic static getSpecies(id: string) {\r\n\t\treturn SpeciesList.find(s => s.id === id);\r\n\t}\r\n\r\n\tpublic static getDeck() {\r\n\t\tconst deck: string[] = [];\r\n\r\n\t\tSpeciesList.forEach(s => {\r\n\t\t\tdeck.push(s.id);\r\n\t\t});\r\n\r\n\t\treturn deck;\r\n\t}\r\n}\r\n","import { Utils } from '../utils/utils';\r\nimport { Action, ActionHelper } from './action';\r\nimport { BackgroundHelper } from './background';\r\nimport { Feature, FeatureHelper, FeatureType } from './feature';\r\nimport { Item } from './item';\r\nimport { Proficiency } from './proficiency';\r\nimport { RoleHelper } from './role';\r\nimport { Skill, SkillCategory, SkillHelper } from './skill';\r\nimport { SpeciesHelper } from './species';\r\nimport { Trait } from './trait';\r\n\r\nexport interface Hero {\r\n\tid: string;\r\n\tname: string;\r\n\r\n\tspeciesID: string;\r\n\troleID: string;\r\n\tbackgroundID: string;\r\n\r\n\tlevel: number;\r\n\txp: number;\r\n\r\n\tfeatures: Feature[];\r\n\titems: Item[];\r\n}\r\n\r\nexport interface Monster {\r\n\tid: string;\r\n\tname: string;\r\n\r\n\tlevel: number;\r\n\tsize: number;\r\n\r\n\tfeatures: Feature[];\r\n\tactions: Action[];\r\n\titems: Item[];\r\n}\r\n\r\nexport class HeroHelper {\r\n\tpublic static PlaceholderName: string = 'ZZZZZZZZ';\r\n\r\n\tpublic static createHero(): Hero {\r\n\t\treturn {\r\n\t\t\tid: Utils.guid(),\r\n\t\t\tname: HeroHelper.PlaceholderName,\r\n\t\t\tspeciesID: '',\r\n\t\t\troleID: '',\r\n\t\t\tbackgroundID: '',\r\n\t\t\tlevel: 1,\r\n\t\t\txp: 0,\r\n\t\t\tfeatures: [],\r\n\t\t\titems: []\r\n\t\t};\r\n\t}\r\n\r\n\tpublic static createMonster(): Monster {\r\n\t\treturn {\r\n\t\t\tid: Utils.guid(),\r\n\t\t\tname: '',\r\n\t\t\tlevel: 1,\r\n\t\t\tsize: 1,\r\n\t\t\tfeatures: [],\r\n\t\t\tactions: [],\r\n\t\t\titems: []\r\n\t\t};\r\n\t}\r\n\r\n\tpublic static featureDeck(hero: Hero) {\r\n\t\tconst s = SpeciesHelper.getSpecies(hero.speciesID);\r\n\t\tconst r = RoleHelper.getRole(hero.roleID);\r\n\t\tconst b = BackgroundHelper.getBackground(hero.backgroundID);\r\n\t\treturn FeatureHelper.universalFeatures\r\n\t\t\t.concat(s ? s.features : [])\r\n\t\t\t.concat(r ? r.features : [])\r\n\t\t\t.concat(b ? b.features : []);\r\n\t}\r\n\r\n\tpublic static actionDeck(hero: Hero | Monster) {\r\n\t\tlet list: Action[] = ([] as Action[]).concat(ActionHelper.universalActions);\r\n\r\n\t\tif ((hero as Hero).roleID) {\r\n\t\t\t// This is a hero; get actions from the species, role, and background\r\n\t\t\tconst s = SpeciesHelper.getSpecies((hero as Hero).speciesID);\r\n\t\t\tlist = list.concat(s ? s.actions : []);\r\n\t\t\tconst r = RoleHelper.getRole((hero as Hero).roleID);\r\n\t\t\tlist = list.concat(r ? r.actions : []);\r\n\t\t\tconst b = BackgroundHelper.getBackground((hero as Hero).backgroundID);\r\n\t\t\tlist = list.concat(b ? b.actions : []);\r\n\t\t}\r\n\r\n\t\tif ((hero as Monster).actions) {\r\n\t\t\t// This is a monster; get actions from the monster\r\n\t\t\tlist = list.concat((hero as Monster).actions);\r\n\t\t}\r\n\r\n\t\thero.items.forEach(i => {\r\n\t\t\tlist = list.concat(i.actions);\r\n\t\t});\r\n\r\n\t\treturn list;\r\n\t}\r\n\r\n\tpublic static activeFeatures(hero: Hero | Monster) {\r\n\t\tlet list = ([] as Feature[]).concat(hero.features);\r\n\t\thero.items.forEach(i => {\r\n\t\t\tlist = list.concat(i.features);\r\n\t\t});\r\n\r\n\t\treturn list;\r\n\t}\r\n\r\n\tpublic static trait(hero: Hero | Monster, trait: Trait) {\r\n\t\tlet value = 1;\r\n\r\n\t\tif ((hero as Hero).speciesID) {\r\n\t\t\t// This is a hero; get traits from the species\r\n\t\t\tconst s = SpeciesHelper.getSpecies((hero as Hero).speciesID);\r\n\t\t\tif (s) {\r\n\t\t\t\tconst bonuses = s.traits.filter(t => (t === trait) || (t === Trait.All));\r\n\t\t\t\tvalue += bonuses.length;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ((hero as Hero).roleID) {\r\n\t\t\t// This is a hero; get traits from the role\r\n\t\t\tconst r = RoleHelper.getRole((hero as Hero).roleID);\r\n\t\t\tif (r) {\r\n\t\t\t\tconst bonuses = r.traits.filter(t => (t === trait) || (t === Trait.All));\r\n\t\t\t\tvalue += bonuses.length;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tHeroHelper.activeFeatures(hero)\r\n\t\t\t.filter(f => f.type === FeatureType.Trait)\r\n\t\t\t.filter(f => (f.trait === trait) || (f.trait === Trait.All))\r\n\t\t\t.forEach(f => value += f.rank);\r\n\r\n\t\treturn Math.max(value, 0);\r\n\t}\r\n\r\n\tpublic static skill(hero: Hero | Monster, skill: Skill) {\r\n\t\tlet value = 0;\r\n\r\n\t\tif ((hero as Hero).roleID) {\r\n\t\t\t// This is a hero; get skills from the role\r\n\t\t\tconst r = RoleHelper.getRole((hero as Hero).roleID);\r\n\t\t\tif (r) {\r\n\t\t\t\tconst bonuses = r.skills.filter(s => (s === skill) || (s === Skill.All));\r\n\t\t\t\tvalue += bonuses.length * 2;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tHeroHelper.activeFeatures(hero)\r\n\t\t\t.filter(f => f.type === FeatureType.Skill)\r\n\t\t\t.filter(f => (f.skill === skill) || (f.skill === Skill.All))\r\n\t\t\t.forEach(f => value += f.rank);\r\n\t\tHeroHelper.activeFeatures(hero)\r\n\t\t\t.filter(f => f.type === FeatureType.SkillCategory)\r\n\t\t\t.filter(f => (f.skillCategory === SkillHelper.getCategory(skill)) || (f.skillCategory === SkillCategory.All))\r\n\t\t\t.forEach(f => value += f.rank);\r\n\r\n\t\treturn Math.max(value, 0);\r\n\t}\r\n\r\n\tpublic static proficiencies(hero: Hero | Monster) {\r\n\t\tlet profs: Proficiency[] = [];\r\n\r\n\t\t// From role, if this is a hero\r\n\t\tconst r = RoleHelper.getRole((hero as Hero).roleID);\r\n\t\tprofs = profs.concat(r ? r.proficiencies : []);\r\n\r\n\t\t// From active features\r\n\t\tHeroHelper.activeFeatures(hero)\r\n\t\t\t.filter(f => f.type === FeatureType.Proficiency)\r\n\t\t\t.forEach(f => profs.push(f.proficiency));\r\n\r\n\t\tif (profs.includes(Proficiency.All)) {\r\n\t\t\treturn [Proficiency.All];\r\n\t\t}\r\n\r\n\t\treturn profs;\r\n\t}\r\n}\r\n","import { CampaignMap, CampaignMapHelper } from './campaign-map';\r\nimport { Encounter } from './encounter';\r\nimport { Hero, HeroHelper } from './hero';\r\nimport { Item } from './item';\r\n\r\nexport interface Game {\r\n\theroes: Hero[];\r\n\titems: Item[];\r\n\tmap: CampaignMap | null;\r\n\tencounter: Encounter | null;\r\n}\r\n\r\nexport class GameHelper {\r\n\tpublic static createGame(): Game {\r\n\t\treturn {\r\n\t\t\theroes: [\r\n\t\t\t\tHeroHelper.createHero(),\r\n\t\t\t\tHeroHelper.createHero(),\r\n\t\t\t\tHeroHelper.createHero(),\r\n\t\t\t\tHeroHelper.createHero(),\r\n\t\t\t\tHeroHelper.createHero()\r\n\t\t\t],\r\n\t\t\titems: [],\r\n\t\t\tmap: CampaignMapHelper.createMap(),\r\n\t\t\tencounter: null\r\n\t\t};\r\n\t}\r\n}\r\n","import React from 'react';\r\nimport { CampaignMap } from '../models/campaign-map';\r\n\r\ninterface Props {\r\n\tmap: CampaignMap;\r\n}\r\n\r\nexport class CampaignMapPanel extends React.Component<Props> {\r\n\tpublic render() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\tCAMPAIGN MAP PANEL\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import { Button, Col, Divider, Row } from 'antd';\r\nimport React from 'react';\r\nimport { CampaignMap } from '../../models/campaign-map';\r\nimport { Game } from '../../models/game';\r\nimport { CampaignMapPanel } from '../campaign-map-panel';\r\n\r\n// TODO: Select region, inspect region details, start encounter there\r\n\r\ninterface Props {\r\n\tgame: Game;\r\n\tviewHeroes: () => void;\r\n\tstartEncounter: () => void;\r\n\tabandonCampaign: () => void;\r\n}\r\n\r\nexport class CampaignMapScreen extends React.Component<Props> {\r\n\tpublic render() {\r\n\t\t// TODO:\r\n\t\t// If island conquered, show victory message and button to clear game and go to landing page\r\n\t\t// If no heroes, show defeat message and button to clear game and go to landing page\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<CampaignMapPanel map={this.props.game.map as CampaignMap} />\r\n\t\t\t\t<Divider/>\r\n\t\t\t\t<Row gutter={10}>\r\n\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t<Button block={true} onClick={() => this.props.viewHeroes()}>YOUR HEROES</Button>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t<Button block={true} onClick={() => this.props.startEncounter()}>START AN ENCOUNTER</Button>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t<Button block={true} onClick={() => this.props.abandonCampaign()}>ABANDON THIS CAMPAIGN</Button>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React from 'react';\r\nimport { EncounterMap } from '../models/encounter-map';\r\n\r\ninterface Props {\r\n\tmap: EncounterMap;\r\n}\r\n\r\nexport class EncounterMapPanel extends React.Component<Props> {\r\n\tpublic render() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\tENCOUNTER MAP PANEL\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import { Button, Col, Divider, Row } from 'antd';\r\nimport React from 'react';\r\nimport { Encounter } from '../../models/encounter';\r\nimport { EncounterMapPanel } from '../encounter-map-panel';\r\n\r\ninterface Props {\r\n\tencounter: Encounter;\r\n\tfinish: () => void;\r\n}\r\n\r\nexport class EncounterScreen extends React.Component<Props> {\r\n\tprivate victory() {\r\n\t\t// TODO\r\n\t\t// Get equipment from dead heroes\r\n\t\t// Remove dead heroes from the game\r\n\t\t// If region conquered: show message, add a new level 1 hero\r\n\t\t// Show victory message (plus loot)\r\n\t\t// Increment XP for remaining heroes\r\n\t\t// Clear current encounter\r\n\r\n\t\tthis.props.finish();\r\n\t}\r\n\r\n\tprivate defeat() {\r\n\t\t// TODO\r\n\t\t// Remove dead heroes from the game\r\n\t\t// Show defeat message\r\n\t\t// Clear current encounter\r\n\r\n\t\tthis.props.finish();\r\n\t}\r\n\r\n\tprivate retreat() {\r\n\t\t// TODO\r\n\t\t// Remove dead heroes from the game\r\n\t\t// Show retreat message\r\n\t\t// Clear current encounter\r\n\r\n\t\tthis.props.finish();\r\n\t}\r\n\r\n\tprivate concede() {\r\n\t\t// TODO\r\n\t\t// Remove all current heroes from the game\r\n\t\t// Show concede message\r\n\t\t// Clear current encounter\r\n\r\n\t\tthis.props.finish();\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<EncounterMapPanel map={this.props.encounter.map}/>\r\n\t\t\t\t<Divider/>\r\n\t\t\t\t<Row gutter={10}>\r\n\t\t\t\t\t<Col span={6}>\r\n\t\t\t\t\t\t<Button block={true} onClick={() => this.victory()}>VICTORY</Button>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col span={6}>\r\n\t\t\t\t\t\t<Button block={true} onClick={() => this.defeat()}>DEFEAT</Button>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col span={6}>\r\n\t\t\t\t\t\t<Button block={true} onClick={() => this.retreat()}>RETREAT</Button>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col span={6}>\r\n\t\t\t\t\t\t<Button block={true} onClick={() => this.concede()}>CONCEDE</Button>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import { Utils } from './utils';\r\n\r\nexport class NameGenerator {\r\n\tpublic static generateName() {\r\n\t\tconst startHuman1 = 'As Has Khe Zash Gl Ig Iv Kos Miv Pav Ser Dar Even Gor Rand Sto Tam Barer Keth Mum';\r\n\t\tconst startHuman2 = 'Mar Burg Al Hel Wrayt S Eag Eath Joan Answ L Ot Ced At Tal Ham Jasm Mail Yash Row';\r\n\t\tconst startDwarf = 'Adr Alber Ba Bar Gar Kildr Kath Dies Eld Gurd Har Morg Or Rur Mar Vis Jen Torg Tak Thor End Ris Em Gunn';\r\n\t\tconst startElf = 'Ad All Aram Berri Car Enial Gann Im Per Sorvi Var Adr An Beth Bir Jelen Key Lesh Mer Mia Naiv Quel Sar Shan';\r\n\t\tconst startHalfling = 'Al An C Cor Eld Er Finn Gar Lin Mer Os Per Ros An Cal Cor Kith Lav Ned Pae Seraph T V Chen';\r\n\t\tconst startDragonborn = 'Are Bala Bhar Don Gh Hesk Med Meh Nad Pand Patr Sham Shed Ak Bir Farid Fla Ka Ko Mish Thav Uad Eder Hener';\r\n\t\tconst startMisc = 'Alu Stos Fa Ravay Leo Stok Vic El Yeng Car Ric Ar Guir Es My Pey';\r\n\r\n\t\tconst maleHuman = 'Eir Eid Eed El Ar An Or Ef Al Vin Orn Dur Stag Elm Ur Us';\r\n\t\tconst maleDwarf = 'Ik Ich Ern End Tor Nor In Rak Gen Sik Gran Linn Vok Brek Dal Gar';\r\n\t\tconst maleElf = 'An Ar Il Rian Ric Is Dan Arai Meral Cian En Rion Ialis Ior Nan Kas';\r\n\t\tconst maleHalfling = 'Ton Der Ade Rin Don Rich Nan Ret Al Born Coe By Fire Yas Dal Yle';\r\n\t\tconst maleDragonborn = 'Han Asar Ash Aar Esch An Rash En Arr Jed Rin Gar Ash Dinn Hun Rek';\r\n\t\tconst maleMisc = 'Orel Aadi Ahn Aver Eiros Kain Retor Lannan Pet Ikos';\r\n\r\n\t\tconst femaleHuman = 'Er Ey A E Il Elia Ya Ed Eue Ild Oane Yne Orna Ie Ala Erri Ea Ia';\r\n\t\tconst femaleDwarf = 'Ber Tin Hild Dryn A Eth Runn Ellen Loda Dis Ja Lin Ra Tyrd De Rasa';\r\n\t\tconst femaleElf = 'Rie Aea Striana Inua Rynna Ilia Na Neth Leth Iel Lee Qui Astra Ia Ania Ynn';\r\n\t\tconst femaleHalfling = 'Dry Ree Lie Ora Emia Ian Ri Inia Ina Aena Ani Erna Lyse La Da Aela';\r\n\t\tconst femaleDragonborn = 'Ra Ir Eh Ann Ilar Rinn Ann La Ra A Ina Va Hit Ederei Ere Eila';\r\n\t\tconst femaleMisc = 'Ina Ceryn Vyn Ella Aella Vyre';\r\n\r\n\t\tconst starts = [\r\n\t\t\tstartHuman1, startHuman2, startDwarf, startElf, startHalfling, startDragonborn, startMisc\r\n\t\t].join(' ').toLowerCase().split(' ');\r\n\t\tconst ends = [\r\n\t\t\tmaleHuman, maleDwarf, maleElf, maleHalfling, maleDragonborn, maleMisc,\r\n\t\t\tfemaleHuman, femaleDwarf, femaleElf, femaleHalfling, femaleDragonborn, femaleMisc\r\n\t\t].join(' ').toLowerCase().split(' ');\r\n\r\n\t\tconst startIndex = Utils.randomNumber(starts.length);\r\n\t\tconst endIndex = Utils.randomNumber(ends.length);\r\n\r\n\t\tlet separator = '';\r\n\t\tif (Utils.randomNumber(10) === 0) {\r\n\t\t\tconst separators = ['-', '\\'', ' '];\r\n\t\t\tconst sepIndex = Utils.randomNumber(separators.length);\r\n\t\t\tseparator = separators[sepIndex];\r\n\t\t}\r\n\r\n\t\treturn NameGenerator.capitalise(starts[startIndex] + separator + ends[endIndex]);\r\n\t}\r\n\r\n\tpublic static capitalise(str: string) {\r\n\t\treturn str\r\n\t\t\t.split(' ')\r\n\t\t\t.filter(val => val.length > 0)\r\n\t\t\t.map(val => {\r\n\t\t\t\tconst first = val[0].toUpperCase();\r\n\t\t\t\tconst rest = val.length > 1 ? val.substring(1) : '';\r\n\t\t\t\treturn first + rest;\r\n\t\t\t})\r\n\t\t\t.join(' ');\r\n\t}\r\n}\r\n","import { Row } from 'antd';\r\nimport React from 'react';\r\n\r\ninterface Props {\r\n\thorizontal: 'start' | 'end' | 'center';\r\n\tvertical: 'top' | 'bottom' | 'middle';\r\n}\r\n\r\nexport class Align extends React.Component<Props> {\r\n\tpublic static defaultProps = {\r\n\t\thorizontal: 'center',\r\n\t\tvertical: 'middle',\r\n\t\tstyle: {}\r\n\t};\r\n\r\n\tpublic render() {\r\n\t\treturn (\r\n\t\t\t<Row justify={this.props.horizontal} align={this.props.vertical} style={{ width: '100%', height: '100%' }}>\r\n\t\t\t\t{this.props.children}\r\n\t\t\t</Row>\r\n\t\t);\r\n\t}\r\n}\r\n","export enum Location {\r\n\tNone = 'None',\r\n\tAny = 'Any location',\r\n\tAll = 'All locations',\r\n\tHead = 'Head',\r\n\tNeck = 'Neck',\r\n\tBody = 'Body',\r\n\tFeet = 'Feet',\r\n\tHand = 'Hand',\r\n\tTwoHands = 'Two hands',\r\n\tRing = 'Ring'\r\n}\r\n","import { Col, Divider, Progress, Radio, Row, Typography } from 'antd';\r\nimport React from 'react';\r\nimport { BackgroundHelper } from '../models/background';\r\nimport { Hero, HeroHelper } from '../models/hero';\r\nimport { RoleHelper } from '../models/role';\r\nimport { Skill } from '../models/skill';\r\nimport { SpeciesHelper } from '../models/species';\r\nimport { Trait } from '../models/trait';\r\nimport { Align } from './align';\r\n\r\ninterface Props {\r\n\thero: Hero;\r\n\tdisplay: 'full' | 'mini';\r\n}\r\n\r\ninterface State {\r\n\tview: 'stats' | 'items' | 'features' | 'actions';\r\n}\r\n\r\nexport class CharacterSheet extends React.Component<Props, State> {\r\n\tpublic static defaultProps = {\r\n\t\tdisplay: 'full'\r\n\t};\r\n\r\n\tconstructor(props: Props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tview: 'stats'\r\n\t\t};\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\tconst species = SpeciesHelper.getSpecies(this.props.hero.speciesID)?.name || 'Unknown species';\r\n\t\tconst role = RoleHelper.getRole(this.props.hero.roleID)?.name || 'Unknown role';\r\n\t\tconst background = BackgroundHelper.getBackground(this.props.hero.backgroundID)?.name || 'Unknown background';\r\n\r\n\t\tconst info = species + ' | ' + role + ' |  ' + background;\r\n\t\tconst level = 'Level ' + this.props.hero.level;\r\n\r\n\t\tif (this.props.display === 'mini') {\r\n\t\t\treturn (\r\n\t\t\t\t<div className='character-sheet character-sheet-mini' style={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\r\n\t\t\t\t\t<Align style={{ flex: '1 1 auto' }}>\r\n\t\t\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\t\t\t{this.props.hero.name || 'unnamed hero'}\r\n\t\t\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t\t</Align>\r\n\t\t\t\t\t<Align style={{ flex: '1 1 auto' }}>\r\n\t\t\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\t\t\t{info}\r\n\t\t\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t\t</Align>\r\n\t\t\t\t\t<Align style={{ flex: '1 1 auto' }}>\r\n\t\t\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\t\t\t{level}\r\n\t\t\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t\t</Align>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tlet content = null;\r\n\t\tswitch (this.state.view) {\r\n\t\t\tcase 'stats':\r\n\t\t\t\tconst traits = (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\t\t\tEndurance {HeroHelper.trait(this.props.hero, Trait.Endurance)}\r\n\t\t\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\t\t\tResolve {HeroHelper.trait(this.props.hero, Trait.Resolve)}\r\n\t\t\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\t\t\tSpeed {HeroHelper.trait(this.props.hero, Trait.Speed)}\r\n\t\t\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\r\n\t\t\t\tconst skills = (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\t\t\tAthletics {HeroHelper.skill(this.props.hero, Skill.Athletics)}\r\n\t\t\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\t\t\tBrawl {HeroHelper.skill(this.props.hero, Skill.Brawl)}\r\n\t\t\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\t\t\tPerception {HeroHelper.skill(this.props.hero, Skill.Perception)}\r\n\t\t\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\t\t\tReactions {HeroHelper.skill(this.props.hero, Skill.Reactions)}\r\n\t\t\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\t\t\tSpellcasting {HeroHelper.skill(this.props.hero, Skill.Spellcasting)}\r\n\t\t\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\t\t\tStealth {HeroHelper.skill(this.props.hero, Skill.Stealth)}\r\n\t\t\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\t\t\tWeapon {HeroHelper.skill(this.props.hero, Skill.Weapon)}\r\n\t\t\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\r\n\t\t\t\tconst profs = (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\t\t\t{HeroHelper.proficiencies(this.props.hero).join(', ') || 'None'}\r\n\t\t\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\r\n\t\t\t\tcontent = (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Row gutter={10}>\r\n\t\t\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t\t\t<Divider>Traits</Divider>\r\n\t\t\t\t\t\t\t\t{traits}\r\n\t\t\t\t\t\t\t\t<Divider>Proficiencies</Divider>\r\n\t\t\t\t\t\t\t\t{profs}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={12}>\r\n\t\t\t\t\t\t\t\t<Divider>Skills</Divider>\r\n\t\t\t\t\t\t\t\t{skills}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<Divider>More</Divider>\r\n\t\t\t\t\t\t<div>DAMAGE BONUSES</div>\r\n\t\t\t\t\t\t<div>DAMAGE RESISTANCES</div>\r\n\t\t\t\t\t\t<Divider>XP</Divider>\r\n\t\t\t\t\t\t<Progress\r\n\t\t\t\t\t\t\tpercent={100 * this.props.hero.xp / this.props.hero.level}\r\n\t\t\t\t\t\t\tshowInfo={false}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\t\t\t{this.props.hero.xp} of {this.props.hero.level} XP required for level {this.props.hero.level + 1}\r\n\t\t\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'items':\r\n\t\t\t\t// TODO\r\n\t\t\t\tcontent = (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div>ITEM CARDS</div>\r\n\t\t\t\t\t\t<div>CAMPAIGN ITEM CARDS</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'features':\r\n\t\t\t\t// TODO\r\n\t\t\t\tcontent = (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div>FEATURE DECK</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'actions':\r\n\t\t\t\t// TODO\r\n\t\t\t\tcontent = (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div>ACTION DECK</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className='character-sheet character-sheet-full'>\r\n\t\t\t\t<Typography.Title>\r\n\t\t\t\t\t{this.props.hero.name || 'unnamed hero'}\r\n\t\t\t\t</Typography.Title>\r\n\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\t{info} | Level {this.props.hero.level}\r\n\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t<Divider>\r\n\t\t\t\t\t<Radio.Group buttonStyle='solid' value={this.state.view} onChange={e => this.setState({ view: e.target.value })}>\r\n\t\t\t\t\t\t<Radio.Button value='stats'>Statistics</Radio.Button>\r\n\t\t\t\t\t\t<Radio.Button value='items'>Equipment</Radio.Button>\r\n\t\t\t\t\t\t<Radio.Button value='features'>Feature Deck</Radio.Button>\r\n\t\t\t\t\t\t<Radio.Button value='actions'>Action Deck</Radio.Button>\r\n\t\t\t\t\t</Radio.Group>\r\n\t\t\t\t</Divider>\r\n\t\t\t\t{content}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import { DamageCategory, DamageType } from '../models/damage';\r\nimport { FeatureHelper } from '../models/feature';\r\nimport { Item } from '../models/item';\r\nimport { Location } from '../models/location';\r\nimport { Proficiency } from '../models/proficiency';\r\nimport { SkillCategory } from '../models/skill';\r\nimport { Trait } from '../models/trait';\r\n\r\nexport const ItemList: Item[] = [\r\n\t{\r\n\t\tid: 'item-punch',\r\n\t\tname: 'Punch',\r\n\t\tproficiency: Proficiency.None,\r\n\t\tlocation: Location.None,\r\n\t\tweapon: {\r\n\t\t\tdamage: {\r\n\t\t\t\ttype: DamageType.Impact,\r\n\t\t\t\trank: 0\r\n\t\t\t},\r\n\t\t\trange: 0,\r\n\t\t\tunreliable: 0\r\n\t\t},\r\n\t\tfeatures: [],\r\n\t\tactions: []\r\n\t},\r\n\t{\r\n\t\tid: 'item-longsword',\r\n\t\tname: 'Longsword',\r\n\t\tproficiency: Proficiency.MilitaryWeapons,\r\n\t\tlocation: Location.Hand,\r\n\t\tweapon: {\r\n\t\t\tdamage: {\r\n\t\t\t\ttype: DamageType.Edged,\r\n\t\t\t\trank: 3\r\n\t\t\t},\r\n\t\t\trange: 0,\r\n\t\t\tunreliable: 0\r\n\t\t},\r\n\t\tfeatures: [],\r\n\t\tactions: []\r\n\t},\r\n\t{\r\n\t\tid: 'item-handaxe',\r\n\t\tname: 'Handaxe',\r\n\t\tproficiency: Proficiency.MilitaryWeapons,\r\n\t\tlocation: Location.Hand,\r\n\t\tweapon: {\r\n\t\t\tdamage: {\r\n\t\t\t\ttype: DamageType.Edged,\r\n\t\t\t\trank: 3\r\n\t\t\t},\r\n\t\t\trange: 0,\r\n\t\t\tunreliable: 0\r\n\t\t},\r\n\t\tfeatures: [],\r\n\t\tactions: []\r\n\t},\r\n\t{\r\n\t\tid: 'item-mace',\r\n\t\tname: 'Mace',\r\n\t\tproficiency: Proficiency.MilitaryWeapons,\r\n\t\tlocation: Location.Hand,\r\n\t\tweapon: {\r\n\t\t\tdamage: {\r\n\t\t\t\ttype: DamageType.Impact,\r\n\t\t\t\trank: 3\r\n\t\t\t},\r\n\t\t\trange: 0,\r\n\t\t\tunreliable: 0\r\n\t\t},\r\n\t\tfeatures: [],\r\n\t\tactions: []\r\n\t},\r\n\t{\r\n\t\tid: 'item-morningstar',\r\n\t\tname: 'Morningstar',\r\n\t\tproficiency: Proficiency.MilitaryWeapons,\r\n\t\tlocation: Location.Hand,\r\n\t\tweapon: {\r\n\t\t\tdamage: {\r\n\t\t\t\ttype: DamageType.Impact,\r\n\t\t\t\trank: 4\r\n\t\t\t},\r\n\t\t\trange: 0,\r\n\t\t\tunreliable: 1\r\n\t\t},\r\n\t\tfeatures: [],\r\n\t\tactions: []\r\n\t},\r\n\t{\r\n\t\tid: 'item-spear',\r\n\t\tname: 'Spear',\r\n\t\tproficiency: Proficiency.MilitaryWeapons,\r\n\t\tlocation: Location.Hand,\r\n\t\tweapon: {\r\n\t\t\tdamage: {\r\n\t\t\t\ttype: DamageType.Piercing,\r\n\t\t\t\trank: 2\r\n\t\t\t},\r\n\t\t\trange: 1,\r\n\t\t\tunreliable: 0\r\n\t\t},\r\n\t\tfeatures: [],\r\n\t\tactions: []\r\n\t},\r\n\t{\r\n\t\tid: 'item-mattock',\r\n\t\tname: 'Mattock',\r\n\t\tproficiency: Proficiency.MilitaryWeapons,\r\n\t\tlocation: Location.Hand,\r\n\t\tweapon: {\r\n\t\t\tdamage: {\r\n\t\t\t\ttype: DamageType.Piercing,\r\n\t\t\t\trank: 3\r\n\t\t\t},\r\n\t\t\trange: 0,\r\n\t\t\tunreliable: 0\r\n\t\t},\r\n\t\tfeatures: [],\r\n\t\tactions: []\r\n\t},\r\n\t{\r\n\t\tid: 'item-rapier',\r\n\t\tname: 'Rapier',\r\n\t\tproficiency: Proficiency.MilitaryWeapons,\r\n\t\tlocation: Location.Hand,\r\n\t\tweapon: {\r\n\t\t\tdamage: {\r\n\t\t\t\ttype: DamageType.Piercing,\r\n\t\t\t\trank: 3\r\n\t\t\t},\r\n\t\t\trange: 0,\r\n\t\t\tunreliable: 0\r\n\t\t},\r\n\t\tfeatures: [],\r\n\t\tactions: []\r\n\t},\r\n\t{\r\n\t\tid: 'item-greatsword',\r\n\t\tname: 'Greatsword',\r\n\t\tproficiency: Proficiency.LargeWeapons,\r\n\t\tlocation: Location.TwoHands,\r\n\t\tweapon: {\r\n\t\t\tdamage: {\r\n\t\t\t\ttype: DamageType.Edged,\r\n\t\t\t\trank: 5\r\n\t\t\t},\r\n\t\t\trange: 0,\r\n\t\t\tunreliable: 0\r\n\t\t},\r\n\t\tfeatures: [],\r\n\t\tactions: []\r\n\t},\r\n\t{\r\n\t\tid: 'item-battleaxe',\r\n\t\tname: 'Battleaxe',\r\n\t\tproficiency: Proficiency.LargeWeapons,\r\n\t\tlocation: Location.TwoHands,\r\n\t\tweapon: {\r\n\t\t\tdamage: {\r\n\t\t\t\ttype: DamageType.Edged,\r\n\t\t\t\trank: 5\r\n\t\t\t},\r\n\t\t\trange: 0,\r\n\t\t\tunreliable: 0\r\n\t\t},\r\n\t\tfeatures: [],\r\n\t\tactions: []\r\n\t},\r\n\t{\r\n\t\tid: 'item-glaive',\r\n\t\tname: 'Glaive',\r\n\t\tproficiency: Proficiency.LargeWeapons,\r\n\t\tlocation: Location.TwoHands,\r\n\t\tweapon: {\r\n\t\t\tdamage: {\r\n\t\t\t\ttype: DamageType.Edged,\r\n\t\t\t\trank: 4\r\n\t\t\t},\r\n\t\t\trange: 1,\r\n\t\t\tunreliable: 0\r\n\t\t},\r\n\t\tfeatures: [],\r\n\t\tactions: []\r\n\t},\r\n\t{\r\n\t\tid: 'item-warhammer',\r\n\t\tname: 'Warhammer',\r\n\t\tproficiency: Proficiency.LargeWeapons,\r\n\t\tlocation: Location.TwoHands,\r\n\t\tweapon: {\r\n\t\t\tdamage: {\r\n\t\t\t\ttype: DamageType.Impact,\r\n\t\t\t\trank: 5\r\n\t\t\t},\r\n\t\t\trange: 0,\r\n\t\t\tunreliable: 0\r\n\t\t},\r\n\t\tfeatures: [],\r\n\t\tactions: []\r\n\t},\r\n\t{\r\n\t\tid: 'item-quarterstaff',\r\n\t\tname: 'Quarterstaff',\r\n\t\tproficiency: Proficiency.LargeWeapons,\r\n\t\tlocation: Location.TwoHands,\r\n\t\tweapon: {\r\n\t\t\tdamage: {\r\n\t\t\t\ttype: DamageType.Impact,\r\n\t\t\t\trank: 5\r\n\t\t\t},\r\n\t\t\trange: 0,\r\n\t\t\tunreliable: 0\r\n\t\t},\r\n\t\tfeatures: [],\r\n\t\tactions: []\r\n\t},\r\n\t{\r\n\t\tid: 'item-pike',\r\n\t\tname: 'Pike',\r\n\t\tproficiency: Proficiency.LargeWeapons,\r\n\t\tlocation: Location.TwoHands,\r\n\t\tweapon: {\r\n\t\t\tdamage: {\r\n\t\t\t\ttype: DamageType.Piercing,\r\n\t\t\t\trank: 4\r\n\t\t\t},\r\n\t\t\trange: 1,\r\n\t\t\tunreliable: 0\r\n\t\t},\r\n\t\tfeatures: [],\r\n\t\tactions: []\r\n\t},\r\n\t{\r\n\t\tid: 'item-trident',\r\n\t\tname: 'Trident',\r\n\t\tproficiency: Proficiency.LargeWeapons,\r\n\t\tlocation: Location.TwoHands,\r\n\t\tweapon: {\r\n\t\t\tdamage: {\r\n\t\t\t\ttype: DamageType.Piercing,\r\n\t\t\t\trank: 5\r\n\t\t\t},\r\n\t\t\trange: 0,\r\n\t\t\tunreliable: 0\r\n\t\t},\r\n\t\tfeatures: [],\r\n\t\tactions: []\r\n\t},\r\n\t{\r\n\t\tid: 'item-dagger',\r\n\t\tname: 'Dagger',\r\n\t\tproficiency: Proficiency.PairedWeapons,\r\n\t\tlocation: Location.TwoHands,\r\n\t\tweapon: {\r\n\t\t\tdamage: {\r\n\t\t\t\ttype: DamageType.Edged,\r\n\t\t\t\trank: 2\r\n\t\t\t},\r\n\t\t\trange: 0,\r\n\t\t\tunreliable: 0\r\n\t\t},\r\n\t\tfeatures: [],\r\n\t\tactions: []\r\n\t},\r\n\t{\r\n\t\tid: 'item-sai',\r\n\t\tname: 'Sai',\r\n\t\tproficiency: Proficiency.PairedWeapons,\r\n\t\tlocation: Location.TwoHands,\r\n\t\tweapon: {\r\n\t\t\tdamage: {\r\n\t\t\t\ttype: DamageType.Piercing,\r\n\t\t\t\trank: 2\r\n\t\t\t},\r\n\t\t\trange: 0,\r\n\t\t\tunreliable: 0\r\n\t\t},\r\n\t\tfeatures: [],\r\n\t\tactions: []\r\n\t},\r\n\t{\r\n\t\tid: 'item-longbow',\r\n\t\tname: 'Longbow',\r\n\t\tproficiency: Proficiency.RangedWeapons,\r\n\t\tlocation: Location.TwoHands,\r\n\t\tweapon: {\r\n\t\t\tdamage: {\r\n\t\t\t\ttype: DamageType.Piercing,\r\n\t\t\t\trank: 3\r\n\t\t\t},\r\n\t\t\trange: 10,\r\n\t\t\tunreliable: 0\r\n\t\t},\r\n\t\tfeatures: [],\r\n\t\tactions: []\r\n\t},\r\n\t{\r\n\t\tid: 'item-crossbow',\r\n\t\tname: 'Crossbow',\r\n\t\tproficiency: Proficiency.RangedWeapons,\r\n\t\tlocation: Location.TwoHands,\r\n\t\tweapon: {\r\n\t\t\tdamage: {\r\n\t\t\t\ttype: DamageType.Piercing,\r\n\t\t\t\trank: 3\r\n\t\t\t},\r\n\t\t\trange: 15,\r\n\t\t\tunreliable: 1\r\n\t\t},\r\n\t\tfeatures: [],\r\n\t\tactions: []\r\n\t},\r\n\t{\r\n\t\tid: 'item-rifle',\r\n\t\tname: 'Rifle',\r\n\t\tproficiency: Proficiency.PowderWeapons,\r\n\t\tlocation: Location.TwoHands,\r\n\t\tweapon: {\r\n\t\t\tdamage: {\r\n\t\t\t\ttype: DamageType.Piercing,\r\n\t\t\t\trank: 5\r\n\t\t\t},\r\n\t\t\trange: 15,\r\n\t\t\tunreliable: 2\r\n\t\t},\r\n\t\tfeatures: [],\r\n\t\tactions: []\r\n\t},\r\n\t{\r\n\t\tid: 'item-pistol',\r\n\t\tname: 'Pistol',\r\n\t\tproficiency: Proficiency.PowderWeapons,\r\n\t\tlocation: Location.Hand,\r\n\t\tweapon: {\r\n\t\t\tdamage: {\r\n\t\t\t\ttype: DamageType.Piercing,\r\n\t\t\t\trank: 4\r\n\t\t\t},\r\n\t\t\trange: 10,\r\n\t\t\tunreliable: 2\r\n\t\t},\r\n\t\tfeatures: [],\r\n\t\tactions: []\r\n\t},\r\n\t{\r\n\t\tid: 'item-orb',\r\n\t\tname: 'Orb',\r\n\t\tproficiency: Proficiency.Implements,\r\n\t\tlocation: Location.Hand,\r\n\t\tweapon: null,\r\n\t\tfeatures: [],\r\n\t\tactions: []\r\n\t},\r\n\t{\r\n\t\tid: 'item-wand',\r\n\t\tname: 'Wand',\r\n\t\tproficiency: Proficiency.Implements,\r\n\t\tlocation: Location.Hand,\r\n\t\tweapon: null,\r\n\t\tfeatures: [],\r\n\t\tactions: []\r\n\t},\r\n\t{\r\n\t\tid: 'item-tome',\r\n\t\tname: 'Tome',\r\n\t\tproficiency: Proficiency.Implements,\r\n\t\tlocation: Location.Hand,\r\n\t\tweapon: null,\r\n\t\tfeatures: [],\r\n\t\tactions: []\r\n\t},\r\n\t{\r\n\t\tid: 'item-amulet',\r\n\t\tname: 'Amulet',\r\n\t\tproficiency: Proficiency.Implements,\r\n\t\tlocation: Location.Neck,\r\n\t\tweapon: null,\r\n\t\tfeatures: [],\r\n\t\tactions: []\r\n\t},\r\n\t{\r\n\t\tid: 'item-leather-armor',\r\n\t\tname: 'Leather Armor',\r\n\t\tproficiency: Proficiency.LightArmor,\r\n\t\tlocation: Location.Body,\r\n\t\tweapon: null,\r\n\t\tfeatures: [\r\n\t\t\tFeatureHelper.createDamageCategoryResistFeature(DamageCategory.Physical, 1)\r\n\t\t],\r\n\t\tactions: []\r\n\t},\r\n\t{\r\n\t\tid: 'item-hide-armor',\r\n\t\tname: 'Hide Armor',\r\n\t\tproficiency: Proficiency.LightArmor,\r\n\t\tlocation: Location.Body,\r\n\t\tweapon: null,\r\n\t\tfeatures: [\r\n\t\t\tFeatureHelper.createDamageCategoryResistFeature(DamageCategory.Physical, 2),\r\n\t\t\tFeatureHelper.createSkillCategoryFeature(SkillCategory.Physical, -1)\r\n\t\t],\r\n\t\tactions: []\r\n\t},\r\n\t{\r\n\t\tid: 'item-brigandine-armor',\r\n\t\tname: 'Brigandine Armor',\r\n\t\tproficiency: Proficiency.LightArmor,\r\n\t\tlocation: Location.Body,\r\n\t\tweapon: null,\r\n\t\tfeatures: [\r\n\t\t\tFeatureHelper.createDamageCategoryResistFeature(DamageCategory.Physical, 3),\r\n\t\t\tFeatureHelper.createSkillCategoryFeature(SkillCategory.Physical, -1),\r\n\t\t\tFeatureHelper.createTraitFeature(Trait.Speed, -1)\r\n\t\t],\r\n\t\tactions: []\r\n\t},\r\n\t{\r\n\t\tid: 'item-chain-armor',\r\n\t\tname: 'Chain Armor',\r\n\t\tproficiency: Proficiency.HeavyArmor,\r\n\t\tlocation: Location.Body,\r\n\t\tweapon: null,\r\n\t\tfeatures: [\r\n\t\t\tFeatureHelper.createDamageCategoryResistFeature(DamageCategory.Physical, 4),\r\n\t\t\tFeatureHelper.createSkillCategoryFeature(SkillCategory.Physical, -2),\r\n\t\t\tFeatureHelper.createTraitFeature(Trait.Speed, -1)\r\n\t\t],\r\n\t\tactions: []\r\n\t},\r\n\t{\r\n\t\tid: 'item-plate-armor',\r\n\t\tname: 'Plate Armor',\r\n\t\tproficiency: Proficiency.HeavyArmor,\r\n\t\tlocation: Location.Body,\r\n\t\tweapon: null,\r\n\t\tfeatures: [\r\n\t\t\tFeatureHelper.createDamageCategoryResistFeature(DamageCategory.Physical, 5),\r\n\t\t\tFeatureHelper.createSkillCategoryFeature(SkillCategory.Physical, -3),\r\n\t\t\tFeatureHelper.createTraitFeature(Trait.Speed, -2)\r\n\t\t],\r\n\t\tactions: []\r\n\t},\r\n\t{\r\n\t\tid: 'item-shield',\r\n\t\tname: 'Shield',\r\n\t\tproficiency: Proficiency.Shields,\r\n\t\tlocation: Location.Hand,\r\n\t\tweapon: null,\r\n\t\tfeatures: [\r\n\t\t\tFeatureHelper.createDamageCategoryResistFeature(DamageCategory.Physical, 1),\r\n\t\t\tFeatureHelper.createSkillCategoryFeature(SkillCategory.Physical, -1)\r\n\t\t],\r\n\t\tactions: []\r\n\t},\r\n\t{\r\n\t\tid: 'item-tower-shield',\r\n\t\tname: 'Tower shield',\r\n\t\tproficiency: Proficiency.Shields,\r\n\t\tlocation: Location.Hand,\r\n\t\tweapon: null,\r\n\t\tfeatures: [\r\n\t\t\tFeatureHelper.createDamageCategoryResistFeature(DamageCategory.Physical, 2),\r\n\t\t\tFeatureHelper.createSkillCategoryFeature(SkillCategory.Physical, -2)\r\n\t\t],\r\n\t\tactions: []\r\n\t}\r\n];\r\n","import { ItemList } from '../data/item-list';\r\nimport { Action } from './action';\r\nimport { DamageType } from './damage';\r\nimport { Feature } from './feature';\r\nimport { Location } from './location';\r\nimport { Proficiency } from './proficiency';\r\n\r\nexport interface Item {\r\n\tid: string;\r\n\tname: string;\r\n\r\n\tproficiency: Proficiency;\r\n\tlocation: Location;\r\n\r\n\tweapon: {\r\n\t\tdamage: {\r\n\t\t\ttype: DamageType;\r\n\t\t\trank: number;\r\n\t\t};\r\n\t\trange: number;\r\n\t\tunreliable: number;\r\n\t} | null;\r\n\r\n\tfeatures: Feature[];\r\n\tactions: Action[];\r\n}\r\n\r\nexport class ItemHelper {\r\n\tpublic static getItem(id: string) {\r\n\t\treturn ItemList.find(b => b.id === id);\r\n\t}\r\n\r\n\tpublic static getItems(proficiency: Proficiency) {\r\n\t\treturn ItemList.filter(i => i.proficiency === proficiency);\r\n\t}\r\n}\r\n","import React from 'react';\r\n\r\ninterface Props {\r\n\tvalue: number;\r\n}\r\n\r\nexport class Padding extends React.Component<Props> {\r\n\tpublic static defaultProps = {\r\n\t\tvalue: 10\r\n\t};\r\n\r\n\tpublic render() {\r\n\t\treturn (\r\n\t\t\t<div style={{ padding: this.props.value, height: '100%', width: '100%' }}>\r\n\t\t\t\t{this.props.children}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React from 'react';\r\nimport { Align } from './align';\r\n\r\ninterface Props {\r\n\tback: JSX.Element | string;\r\n\tdisplay: 'front' | 'back';\r\n\tonClick: () => void;\r\n}\r\n\r\nexport class PlayingCard extends React.Component<Props> {\r\n\tpublic static defaultProps = {\r\n\t\tback: '',\r\n\t\tdisplay: 'front',\r\n\t\tonClick: () => null\r\n\t};\r\n\r\n\tpublic render() {\r\n\t\treturn (\r\n\t\t\t<div className={this.props.display === 'front' ? 'playing-card' : 'playing-card flipped'} onClick={() => this.props.onClick()} role='button'>\r\n\t\t\t\t<div className='playing-card-inner'>\r\n\t\t\t\t\t<div className='playing-card-front'>\r\n\t\t\t\t\t\t{this.props.children}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='playing-card-back'>\r\n\t\t\t\t\t\t<Align>\r\n\t\t\t\t\t\t\t{this.props.back}\r\n\t\t\t\t\t\t</Align>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import { Button, Col, Divider, Row, Typography } from 'antd';\r\nimport React from 'react';\r\nimport { BackgroundHelper } from '../models/background';\r\nimport { FeatureHelper } from '../models/feature';\r\nimport { Hero, HeroHelper } from '../models/hero';\r\nimport { Item, ItemHelper } from '../models/item';\r\nimport { RoleHelper } from '../models/role';\r\nimport { SpeciesHelper } from '../models/species';\r\nimport { Utils } from '../utils/utils';\r\nimport { Padding } from './padding';\r\nimport { PlayingCard } from './playing-card';\r\n\r\ninterface Props {\r\n\tfinished: (hero: Hero) => void;\r\n}\r\n\r\ninterface State {\r\n\thero: Hero;\r\n}\r\n\r\nexport class HeroBuilderPanel extends React.Component<Props, State> {\r\n\tconstructor(props: Props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\thero: HeroHelper.createHero()\r\n\t\t};\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\tlet content = null;\r\n\t\tif ((this.state.hero.speciesID === '') && (this.state.hero.roleID === '') && (this.state.hero.backgroundID === '')) {\r\n\t\t\tcontent = (\r\n\t\t\t\t<CardSelector\r\n\t\t\t\t\tselect={(speciesID, roleID, backgroundID) => {\r\n\t\t\t\t\t\tconst hero = this.state.hero;\r\n\t\t\t\t\t\thero.speciesID = speciesID;\r\n\t\t\t\t\t\thero.roleID = roleID;\r\n\t\t\t\t\t\thero.backgroundID = backgroundID;\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\thero: hero\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t} else if (HeroHelper.proficiencies(this.state.hero).length !== this.state.hero.items.length) {\r\n\t\t\tcontent = (\r\n\t\t\t\t<EquipmentSelector\r\n\t\t\t\t\thero={this.state.hero}\r\n\t\t\t\t\taddItems={items => {\r\n\t\t\t\t\t\tconst hero = this.state.hero;\r\n\t\t\t\t\t\thero.items = items;\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\thero: hero\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tcontent = (\r\n\t\t\t\t<Button block={true} type='primary' onClick={() => this.props.finished(this.state.hero)}>\r\n\t\t\t\t\tOK\r\n\t\t\t\t</Button>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tlet cardInfo = null;\r\n\t\tif ((this.state.hero.speciesID !== '') && (this.state.hero.roleID !== '') && (this.state.hero.backgroundID !== '')) {\r\n\t\t\tconst species = SpeciesHelper.getSpecies(this.state.hero.speciesID);\r\n\t\t\tconst role = RoleHelper.getRole(this.state.hero.roleID);\r\n\t\t\tconst background = BackgroundHelper.getBackground(this.state.hero.backgroundID);\r\n\t\t\tcardInfo = (\r\n\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\tThis hero is a <b>{species?.name} {role?.name} {background?.name}</b>\r\n\t\t\t\t</Typography.Paragraph>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tlet itemInfo = null;\r\n\t\tif (this.state.hero.items.length > 0) {\r\n\t\t\titemInfo = (\r\n\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\tItems: <b>{this.state.hero.items.map(i => i.name).join(', ')}</b>\r\n\t\t\t\t</Typography.Paragraph>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{cardInfo}\r\n\t\t\t\t{itemInfo}\r\n\t\t\t\t{content}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n//#region Cards\r\n\r\ninterface CardSelectorProps {\r\n\tselect: (speciesID: string, roleID: string, backgroundID: string) => void;\r\n}\r\n\r\ninterface CardSelectorState {\r\n\tspeciesIDs: string[];\r\n\troleIDs: string[];\r\n\tbackgroundIDs: string[];\r\n\tselectedSpeciesID: string;\r\n\tselectedRoleID: string;\r\n\tselectedBackgroundID: string;\r\n}\r\n\r\nclass CardSelector extends React.Component<CardSelectorProps, CardSelectorState> {\r\n\tconstructor(props: CardSelectorProps) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tspeciesIDs: Utils.shuffle(SpeciesHelper.getDeck()).splice(0, 3),\r\n\t\t\troleIDs: Utils.shuffle(RoleHelper.getDeck()).splice(0, 3),\r\n\t\t\tbackgroundIDs: Utils.shuffle(BackgroundHelper.getDeck()).splice(0, 3),\r\n\t\t\tselectedSpeciesID: '',\r\n\t\t\tselectedRoleID: '',\r\n\t\t\tselectedBackgroundID: ''\r\n\t\t};\r\n\t}\r\n\r\n\tprivate selectSpecies(id: string) {\r\n\t\tif (this.state.selectedSpeciesID === '') {\r\n\t\t\tthis.setState({\r\n\t\t\t\tselectedSpeciesID: id\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tprivate selectRole(id: string) {\r\n\t\tif (this.state.selectedRoleID === '') {\r\n\t\t\tthis.setState({\r\n\t\t\t\tselectedRoleID: id\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tprivate selectBackground(id: string) {\r\n\t\tif (this.state.selectedBackgroundID === '') {\r\n\t\t\tthis.setState({\r\n\t\t\t\tselectedBackgroundID: id\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tprivate select() {\r\n\t\tthis.props.select(this.state.selectedSpeciesID, this.state.selectedRoleID, this.state.selectedBackgroundID);\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\tconst speciesCards = this.state.speciesIDs.map(id => {\r\n\t\t\tconst species = SpeciesHelper.getSpecies(id);\r\n\t\t\tif (species) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Col span={8} key={species.id}>\r\n\t\t\t\t\t\t<PlayingCard\r\n\t\t\t\t\t\t\tback='Species'\r\n\t\t\t\t\t\t\tdisplay={(this.state.selectedSpeciesID !== '') && (this.state.selectedSpeciesID !== species.id) ? 'back' : 'front'}\r\n\t\t\t\t\t\t\tonClick={() => this.selectSpecies(species.id)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Padding>\r\n\t\t\t\t\t\t\t\t<Typography.Paragraph style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t\t\t\t\t<b>{species.name}</b>\r\n\t\t\t\t\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t\t\t\t\t<Divider/>\r\n\t\t\t\t\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\t\t\t\t\t<b>Trait bonus:</b> {species.traits.map(t => t.toString()).join(', ')}\r\n\t\t\t\t\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\t\t\t\t\t<b>Features:</b> {species.features.map(t => FeatureHelper.getName(t)).join(', ')}\r\n\t\t\t\t\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t\t\t\t</Padding>\r\n\t\t\t\t\t\t</PlayingCard>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tconst roleCards = this.state.roleIDs.map(id => {\r\n\t\t\tconst role = RoleHelper.getRole(id);\r\n\t\t\tif (role) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Col span={8} key={role.id}>\r\n\t\t\t\t\t\t<PlayingCard\r\n\t\t\t\t\t\t\tback='Role'\r\n\t\t\t\t\t\t\tdisplay={(this.state.selectedRoleID !== '') && (this.state.selectedRoleID !== role.id) ? 'back' : 'front'}\r\n\t\t\t\t\t\t\tonClick={() => this.selectRole(role.id)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Padding>\r\n\t\t\t\t\t\t\t\t<Typography.Paragraph style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t\t\t\t\t<b>{role.name}</b>\r\n\t\t\t\t\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t\t\t\t\t<Divider/>\r\n\t\t\t\t\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\t\t\t\t\t<b>Trait bonus:</b> {role.traits.map(t => t.toString()).join(', ')}\r\n\t\t\t\t\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\t\t\t\t\t<b>Skill bonus:</b> {role.skills.map(t => t.toString()).join(', ')}\r\n\t\t\t\t\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\t\t\t\t\t<b>Proficiencies:</b> {role.proficiencies.map(t => t.toString()).join(', ')}\r\n\t\t\t\t\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\t\t\t\t\t<b>Features:</b> {role.features.map(t => FeatureHelper.getName(t)).join(', ')}\r\n\t\t\t\t\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t\t\t\t</Padding>\r\n\t\t\t\t\t\t</PlayingCard>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tconst backgroundCards = this.state.backgroundIDs.map(id => {\r\n\t\t\tconst background = BackgroundHelper.getBackground(id);\r\n\t\t\tif (background) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Col span={8} key={background.id}>\r\n\t\t\t\t\t\t<PlayingCard\r\n\t\t\t\t\t\t\tback='Background'\r\n\t\t\t\t\t\t\tdisplay={(this.state.selectedBackgroundID !== '') && (this.state.selectedBackgroundID !== background.id) ? 'back' : 'front'}\r\n\t\t\t\t\t\t\tonClick={() => this.selectBackground(background.id)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Padding>\r\n\t\t\t\t\t\t\t\t<Typography.Paragraph style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t\t\t\t\t<b>{background.name}</b>\r\n\t\t\t\t\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t\t\t\t\t<Divider/>\r\n\t\t\t\t\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\t\t\t\t\t<b>Features:</b> {background.features.map(t => FeatureHelper.getName(t)).join(', ')}\r\n\t\t\t\t\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t\t\t\t</Padding>\r\n\t\t\t\t\t\t</PlayingCard>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tconst canSelect = (this.state.selectedSpeciesID !== '') && (this.state.selectedRoleID !== '') && (this.state.selectedBackgroundID !== '');\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\tSelect one of these <b>species</b> cards:\r\n\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t<Row gutter={10}>\r\n\t\t\t\t\t{speciesCards}\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Divider/>\r\n\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\tSelect one of these <b>role</b> cards:\r\n\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t<Row gutter={10}>\r\n\t\t\t\t\t{roleCards}\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Divider/>\r\n\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\tSelect one of these <b>background</b> cards:\r\n\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t<Row gutter={10}>\r\n\t\t\t\t\t{backgroundCards}\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Divider/>\r\n\t\t\t\t<Button block={true} type='primary' disabled={!canSelect} onClick={() => this.select()}>Select these cards</Button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n//#endregion\r\n\r\n//#region Equipment\r\n\r\ninterface EquipmentSelectorProps {\r\n\thero: Hero;\r\n\taddItems: (items: Item[]) => void;\r\n}\r\n\r\ninterface EquipmentSelectorState {\r\n\titems: Item[];\r\n}\r\n\r\nclass EquipmentSelector extends React.Component<EquipmentSelectorProps, EquipmentSelectorState> {\r\n\tconstructor(props: EquipmentSelectorProps) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\titems: []\r\n\t\t};\r\n\t}\r\n\r\n\tprivate selectItem(id: string) {\r\n\t\tconst item = ItemHelper.getItem(id);\r\n\t\tif (item) {\r\n\t\t\tconst slotFilled = this.state.items.find(i => i.proficiency === item.proficiency);\r\n\t\t\tif (!slotFilled) {\r\n\t\t\t\tconst items = this.state.items;\r\n\t\t\t\titems.push(item);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\titems: items\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\tconst role = RoleHelper.getRole(this.props.hero.roleID);\r\n\t\tif (!role) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tconst slots = role.proficiencies.map((prof, n) => {\r\n\t\t\tconst currentItemIDs = this.state.items\r\n\t\t\t\t.filter(item => item.proficiency === prof)\r\n\t\t\t\t.map(item => item.id);\r\n\r\n\t\t\tconst items = ItemHelper.getItems(prof).map(item => {\r\n\t\t\t\tlet wpn = null;\r\n\t\t\t\tif (item.weapon) {\r\n\t\t\t\t\twpn = (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\t\t\t\t<b>Damage:</b> {item.weapon.damage.rank} {item.weapon.damage.type}\r\n\t\t\t\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\t\t\t\t<b>Range:</b> {item.weapon.range}\r\n\t\t\t\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\t\t\t\t<b>Unreliable:</b> {item.weapon.unreliable}\r\n\t\t\t\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Col span={6} key={item.id}>\r\n\t\t\t\t\t\t<PlayingCard\r\n\t\t\t\t\t\t\tback='Item'\r\n\t\t\t\t\t\t\tdisplay={(currentItemIDs.length !== 0) && (!currentItemIDs.includes(item.id)) ? 'back' : 'front'}\r\n\t\t\t\t\t\t\tonClick={() => this.selectItem(item.id)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Padding>\r\n\t\t\t\t\t\t\t\t<Typography.Paragraph style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t\t\t\t\t<b>{item.name}</b>\r\n\t\t\t\t\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t\t\t\t\t<Divider/>\r\n\t\t\t\t\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\t\t\t\t\t<b>Proficiency:</b> {item.proficiency}\r\n\t\t\t\t\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\t\t\t\t\t<b>Location:</b> {item.location}\r\n\t\t\t\t\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t\t\t\t\t{wpn}\r\n\t\t\t\t\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\t\t\t\t\t<b>Features:</b> {item.features.map(t => FeatureHelper.getName(t)).join(', ')}\r\n\t\t\t\t\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t\t\t\t</Padding>\r\n\t\t\t\t\t\t</PlayingCard>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div key={n}>\r\n\t\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\t\tChoose an item for <b>{prof}</b>:\r\n\t\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t\t<Row gutter={10}>\r\n\t\t\t\t\t\t{items}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Divider/>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\tconst canSelect = (this.state.items.length === role.proficiencies.length);\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{slots}\r\n\t\t\t\t<Button block={true} type='primary' disabled={!canSelect} onClick={() => this.props.addItems(this.state.items)}>Select these items</Button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n//#endregion\r\n","import { Button, Col, Divider, Radio, Row, Typography } from 'antd';\r\nimport React from 'react';\r\nimport { DamageCategory, DamageType } from '../models/damage';\r\nimport { Feature, FeatureHelper, FeatureType } from '../models/feature';\r\nimport { Hero, HeroHelper } from '../models/hero';\r\nimport { Proficiency } from '../models/proficiency';\r\nimport { Skill, SkillCategory } from '../models/skill';\r\nimport { Trait } from '../models/trait';\r\nimport { Utils } from '../utils/utils';\r\nimport { Align } from './align';\r\nimport { PlayingCard } from './playing-card';\r\n\r\ninterface Props {\r\n\thero: Hero;\r\n\tfinished: (trait: Trait, skill: Skill, feature: Feature) => void;\r\n}\r\n\r\ninterface State {\r\n\tselectedTrait: Trait;\r\n\tselectedSkill: Skill;\r\n\tselectedFeature: Feature | null;\r\n}\r\n\r\nexport class HeroLevelUpPanel extends React.Component<Props, State> {\r\n\tconstructor(props: Props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tselectedTrait: Trait.Any,\r\n\t\t\tselectedSkill: Skill.Any,\r\n\t\t\tselectedFeature: null\r\n\t\t};\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\tconst traitOK = (this.state.selectedTrait !== Trait.Any);\r\n\t\tconst skillOK = (this.state.selectedSkill !== Skill.Any);\r\n\t\tconst featureOK = (this.state.selectedFeature !== null) && !FeatureHelper.hasChoice(this.state.selectedFeature);\r\n\t\tconst canFinish = traitOK && skillOK && featureOK;\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\tChoose a <b>trait</b> to increment:\r\n\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t<SelectTraitPanel onSelect={trait => this.setState({ selectedTrait: trait })} />\r\n\t\t\t\t<Divider/>\r\n\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\tChoose a <b>skill</b> to increment:\r\n\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t<SelectSkillPanel onSelect={skill => this.setState({ selectedSkill: skill })} />\r\n\t\t\t\t<Divider/>\r\n\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\tChoose a <b>feature</b>:\r\n\t\t\t\t</Typography.Paragraph>\r\n\t\t\t\t<SelectFeaturePanel\r\n\t\t\t\t\thero={this.props.hero}\r\n\t\t\t\t\tfeature={this.state.selectedFeature}\r\n\t\t\t\t\tonSelect={feature => {\r\n\t\t\t\t\t\tif (this.state.selectedFeature === null) {\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tselectedFeature: feature\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonSelectDamageCategory={damageCategory => {\r\n\t\t\t\t\t\tconst feature = this.state.selectedFeature;\r\n\t\t\t\t\t\tif (feature) {\r\n\t\t\t\t\t\t\tfeature.damageCategory = damageCategory;\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tselectedFeature: feature\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonSelectDamageType={damage => {\r\n\t\t\t\t\t\tconst feature = this.state.selectedFeature;\r\n\t\t\t\t\t\tif (feature) {\r\n\t\t\t\t\t\t\tfeature.damage = damage;\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tselectedFeature: feature\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonSelectProficiency={proficiency => {\r\n\t\t\t\t\t\tconst feature = this.state.selectedFeature;\r\n\t\t\t\t\t\tif (feature) {\r\n\t\t\t\t\t\t\tfeature.proficiency = proficiency;\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tselectedFeature: feature\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonSelectSkill={skill => {\r\n\t\t\t\t\t\tconst feature = this.state.selectedFeature;\r\n\t\t\t\t\t\tif (feature) {\r\n\t\t\t\t\t\t\tfeature.skill = skill;\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tselectedFeature: feature\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonSelectSkillCategory={skillCategory => {\r\n\t\t\t\t\t\tconst feature = this.state.selectedFeature;\r\n\t\t\t\t\t\tif (feature) {\r\n\t\t\t\t\t\t\tfeature.skillCategory = skillCategory;\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tselectedFeature: feature\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonSelectTrait={trait => {\r\n\t\t\t\t\t\tconst feature = this.state.selectedFeature;\r\n\t\t\t\t\t\tif (feature) {\r\n\t\t\t\t\t\t\tfeature.trait = trait;\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tselectedFeature: feature\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<Divider/>\r\n\t\t\t\t<Button block={true} type='primary' disabled={!canFinish} onClick={() => this.props.finished(this.state.selectedTrait, this.state.selectedSkill, this.state.selectedFeature as Feature)}>\r\n\t\t\t\t\tOK\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\ninterface SelectTraitPanelProps {\r\n\tonSelect: (trait: Trait) => void;\r\n}\r\n\r\nclass SelectTraitPanel extends React.Component<SelectTraitPanelProps> {\r\n\tpublic render() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Radio.Group buttonStyle='solid' onChange={e => this.props.onSelect(e.target.value)}>\r\n\t\t\t\t\t<Radio.Button value={Trait.Endurance}>Endurance</Radio.Button>\r\n\t\t\t\t\t<Radio.Button value={Trait.Resolve}>Resolve</Radio.Button>\r\n\t\t\t\t\t<Radio.Button value={Trait.Speed}>Speed</Radio.Button>\r\n\t\t\t\t</Radio.Group>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\ninterface SelectSkillPanelProps {\r\n\tonSelect: (skill: Skill) => void;\r\n}\r\n\r\nclass SelectSkillPanel extends React.Component<SelectSkillPanelProps> {\r\n\tpublic render() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Radio.Group buttonStyle='solid' onChange={e => this.props.onSelect(e.target.value)}>\r\n\t\t\t\t\t<Radio.Button value={Skill.Athletics}>Athletics</Radio.Button>\r\n\t\t\t\t\t<Radio.Button value={Skill.Brawl}>Brawl</Radio.Button>\r\n\t\t\t\t\t<Radio.Button value={Skill.Perception}>Perception</Radio.Button>\r\n\t\t\t\t\t<Radio.Button value={Skill.Reactions}>Reactions</Radio.Button>\r\n\t\t\t\t\t<Radio.Button value={Skill.Spellcasting}>Spellcasting</Radio.Button>\r\n\t\t\t\t\t<Radio.Button value={Skill.Stealth}>Stealth</Radio.Button>\r\n\t\t\t\t\t<Radio.Button value={Skill.Weapon}>Weapon</Radio.Button>\r\n\t\t\t\t</Radio.Group>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\ninterface SelectSkillCategoryPanelProps {\r\n\tonSelect: (skillCategory: SkillCategory) => void;\r\n}\r\n\r\nclass SelectSkillCategoryPanel extends React.Component<SelectSkillCategoryPanelProps> {\r\n\tpublic render() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Radio.Group buttonStyle='solid' onChange={e => this.props.onSelect(e.target.value)}>\r\n\t\t\t\t\t<Radio.Button value={SkillCategory.Physical}>Physical skills</Radio.Button>\r\n\t\t\t\t\t<Radio.Button value={SkillCategory.Mental}>Mental skills</Radio.Button>\r\n\t\t\t\t</Radio.Group>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\ninterface SelectProficiencyPanelProps {\r\n\tonSelect: (proficiency: Proficiency) => void;\r\n}\r\n\r\nclass SelectProficiencyPanel extends React.Component<SelectProficiencyPanelProps> {\r\n\tpublic render() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Radio.Group buttonStyle='solid' onChange={e => this.props.onSelect(e.target.value)}>\r\n\t\t\t\t\t<Radio.Button value={Proficiency.MilitaryWeapons}>Military weapons</Radio.Button>\r\n\t\t\t\t\t<Radio.Button value={Proficiency.LargeWeapons}>Large weapons</Radio.Button>\r\n\t\t\t\t\t<Radio.Button value={Proficiency.PairedWeapons}>Paired weapons</Radio.Button>\r\n\t\t\t\t\t<Radio.Button value={Proficiency.RangedWeapons}>Ranged weapons</Radio.Button>\r\n\t\t\t\t\t<Radio.Button value={Proficiency.PowderWeapons}>Powder weapons</Radio.Button>\r\n\t\t\t\t\t<Radio.Button value={Proficiency.Implements}>Implements</Radio.Button>\r\n\t\t\t\t\t<Radio.Button value={Proficiency.LightArmor}>Light armor</Radio.Button>\r\n\t\t\t\t\t<Radio.Button value={Proficiency.HeavyArmor}>Heavy armor</Radio.Button>\r\n\t\t\t\t\t<Radio.Button value={Proficiency.Shields}>Shields</Radio.Button>\r\n\t\t\t\t</Radio.Group>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\ninterface SelectDamagePanelProps {\r\n\tonSelect: (damage: DamageType) => void;\r\n}\r\n\r\nclass SelectDamagePanel extends React.Component<SelectDamagePanelProps> {\r\n\tpublic render() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Radio.Group buttonStyle='solid' onChange={e => this.props.onSelect(e.target.value)}>\r\n\t\t\t\t\t<Radio.Button value={DamageType.Acid}>Acid</Radio.Button>\r\n\t\t\t\t\t<Radio.Button value={DamageType.Edged}>Edged</Radio.Button>\r\n\t\t\t\t\t<Radio.Button value={DamageType.Impact}>Impact</Radio.Button>\r\n\t\t\t\t\t<Radio.Button value={DamageType.Piercing}>Piercing</Radio.Button>\r\n\t\t\t\t\t<Radio.Button value={DamageType.Cold}>Cold</Radio.Button>\r\n\t\t\t\t\t<Radio.Button value={DamageType.Electricity}>Electricity</Radio.Button>\r\n\t\t\t\t\t<Radio.Button value={DamageType.Fire}>Fire</Radio.Button>\r\n\t\t\t\t\t<Radio.Button value={DamageType.Light}>Light</Radio.Button>\r\n\t\t\t\t\t<Radio.Button value={DamageType.Sonic}>Sonic</Radio.Button>\r\n\t\t\t\t\t<Radio.Button value={DamageType.Decay}>Decay</Radio.Button>\r\n\t\t\t\t\t<Radio.Button value={DamageType.Poison}>Poison</Radio.Button>\r\n\t\t\t\t\t<Radio.Button value={DamageType.Psychic}>Psychic</Radio.Button>\r\n\t\t\t\t</Radio.Group>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\ninterface SelectDamageCategoryPanelProps {\r\n\tonSelect: (damageCategory: DamageCategory) => void;\r\n}\r\n\r\nclass SelectDamageCategoryPanel extends React.Component<SelectDamageCategoryPanelProps> {\r\n\tpublic render() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Radio.Group buttonStyle='solid' onChange={e => this.props.onSelect(e.target.value)}>\r\n\t\t\t\t\t<Radio.Button value={DamageCategory.Physical}>Physical damage</Radio.Button>\r\n\t\t\t\t\t<Radio.Button value={DamageCategory.Energy}>Energy damage</Radio.Button>\r\n\t\t\t\t\t<Radio.Button value={DamageCategory.Corruption}>Corruption damage</Radio.Button>\r\n\t\t\t\t</Radio.Group>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\ninterface SelectFeaturePanelProps {\r\n\thero: Hero;\r\n\tfeature: Feature | null;\r\n\tonSelect: (feature: Feature) => void;\r\n\tonSelectDamageType: (damageType: DamageType) => void;\r\n\tonSelectDamageCategory: (damageCategory: DamageCategory) => void;\r\n\tonSelectProficiency: (proficiency: Proficiency) => void;\r\n\tonSelectSkill: (skill: Skill) => void;\r\n\tonSelectSkillCategory: (skillCategory: SkillCategory) => void;\r\n\tonSelectTrait: (trait: Trait) => void;\r\n}\r\n\r\ninterface SelectFeaturePanelState {\r\n\tfeatures: Feature[];\r\n}\r\n\r\nclass SelectFeaturePanel extends React.Component<SelectFeaturePanelProps, SelectFeaturePanelState> {\r\n\tconstructor(props: SelectFeaturePanelProps) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tfeatures: Utils.shuffle(HeroHelper.featureDeck(props.hero)).splice(0, 3)\r\n\t\t};\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\tconst featureCards = this.state.features.map(feature => {\r\n\t\t\treturn (\r\n\t\t\t\t<Col span={8} key={feature.id}>\r\n\t\t\t\t\t<PlayingCard\r\n\t\t\t\t\t\tback='Feature'\r\n\t\t\t\t\t\tdisplay={(this.props.feature !== null) && (this.props.feature.id !== feature.id) ? 'back' : 'front'}\r\n\t\t\t\t\t\tonClick={() => this.props.onSelect(feature)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Align>\r\n\t\t\t\t\t\t\t{FeatureHelper.getName(feature)}\r\n\t\t\t\t\t\t</Align>\r\n\t\t\t\t\t</PlayingCard>\r\n\t\t\t\t</Col>\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\tlet extra = null;\r\n\t\tif (this.props.feature) {\r\n\t\t\tswitch (this.props.feature.type) {\r\n\t\t\t\tcase FeatureType.DamageBonus:\r\n\t\t\t\tcase FeatureType.DamageResist:\r\n\t\t\t\t\tif (this.props.feature.damage === DamageType.Any) {\r\n\t\t\t\t\t\textra = (\r\n\t\t\t\t\t\t\t<SelectDamagePanel onSelect={d => this.props.onSelectDamageType(d)} />\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase FeatureType.DamageCategoryBonus:\r\n\t\t\t\tcase FeatureType.DamageCategoryResist:\r\n\t\t\t\t\tif (this.props.feature.damageCategory === DamageCategory.Any) {\r\n\t\t\t\t\t\textra = (\r\n\t\t\t\t\t\t\t<SelectDamageCategoryPanel onSelect={dc => this.props.onSelectDamageCategory(dc)} />\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase FeatureType.Proficiency:\r\n\t\t\t\t\tif (this.props.feature.proficiency === Proficiency.Any) {\r\n\t\t\t\t\t\textra = (\r\n\t\t\t\t\t\t\t<SelectProficiencyPanel onSelect={p => this.props.onSelectProficiency(p)} />\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase FeatureType.Skill:\r\n\t\t\t\t\tif (this.props.feature.skill === Skill.Any) {\r\n\t\t\t\t\t\textra = (\r\n\t\t\t\t\t\t\t<SelectSkillPanel onSelect={s => this.props.onSelectSkill(s)} />\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase FeatureType.SkillCategory:\r\n\t\t\t\t\tif (this.props.feature.skillCategory === SkillCategory.Any) {\r\n\t\t\t\t\t\textra = (\r\n\t\t\t\t\t\t\t<SelectSkillCategoryPanel onSelect={sc => this.props.onSelectSkillCategory(sc)} />\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase FeatureType.Trait:\r\n\t\t\t\t\tif (this.props.feature.trait === Trait.Any) {\r\n\t\t\t\t\t\textra = (\r\n\t\t\t\t\t\t\t<SelectTraitPanel onSelect={t => this.props.onSelectTrait(t)} />\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Row gutter={10}>\r\n\t\t\t\t\t{featureCards}\r\n\t\t\t\t\t{extra}\r\n\t\t\t\t</Row>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import { Button, Col, Divider, Drawer, Row, Typography } from 'antd';\r\nimport React from 'react';\r\nimport { Feature } from '../../models/feature';\r\nimport { Game } from '../../models/game';\r\nimport { Hero, HeroHelper } from '../../models/hero';\r\nimport { Skill } from '../../models/skill';\r\nimport { Trait } from '../../models/trait';\r\nimport { NameGenerator } from '../../utils/name-generator';\r\nimport { Align } from '../align';\r\nimport { CharacterSheet } from '../character-sheet';\r\nimport { HeroBuilderPanel } from '../hero-builder-panel';\r\nimport { HeroLevelUpPanel } from '../hero-level-up-panel';\r\nimport { Padding } from '../padding';\r\nimport { PlayingCard } from '../playing-card';\r\n\r\ninterface Props {\r\n\tgame: Game;\r\n\taddHero: (hero: Hero) => void;\r\n\tlevelUp: (hero: Hero, trait: Trait, skill: Skill, feature: Feature) => void;\r\n\tincrementXP: (hero: Hero) => void;\r\n\tback: () => void;\r\n}\r\n\r\ninterface State {\r\n\tselectedHero: Hero | null;\r\n}\r\n\r\nexport class HeroesScreen extends React.Component<Props, State> {\r\n\tconstructor(props: Props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tselectedHero: null\r\n\t\t};\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\tconst heroes = this.props.game.heroes.map(hero => {\r\n\t\t\tlet card = null;\r\n\t\t\tif (hero.name === HeroHelper.PlaceholderName) {\r\n\t\t\t\tcard = (\r\n\t\t\t\t\t<Align>\r\n\t\t\t\t\t\tHero\r\n\t\t\t\t\t</Align>\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tcard = (\r\n\t\t\t\t\t<Padding>\r\n\t\t\t\t\t\t<CharacterSheet hero={hero} display='mini' />\r\n\t\t\t\t\t</Padding>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tlet btn = null;\r\n\t\t\tif (hero.xp >= hero.level) {\r\n\t\t\t\tbtn = (\r\n\t\t\t\t\t<Divider>Level Up</Divider>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\treturn (\r\n\t\t\t\t<Col span={4} key={hero.id}>\r\n\t\t\t\t\t<Padding>\r\n\t\t\t\t\t\t<PlayingCard onClick={() => this.setState({ selectedHero: hero })}>\r\n\t\t\t\t\t\t\t{card}\r\n\t\t\t\t\t\t</PlayingCard>\r\n\t\t\t\t\t\t{btn}\r\n\t\t\t\t\t\t<Button block={true} onClick={() => this.props.incrementXP(hero)}>Add XP</Button>\r\n\t\t\t\t\t</Padding>\r\n\t\t\t\t</Col>\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\tlet drawerTitle = '';\r\n\t\tlet drawerContent = null;\r\n\t\tlet drawerClosable = false;\r\n\t\tif (this.state.selectedHero) {\r\n\t\t\tif (this.state.selectedHero.name === HeroHelper.PlaceholderName) {\r\n\t\t\t\tdrawerTitle = 'Create a New Hero';\r\n\t\t\t\tdrawerContent = (\r\n\t\t\t\t\t<HeroBuilderPanel\r\n\t\t\t\t\t\tfinished={hero => {\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tselectedHero: null\r\n\t\t\t\t\t\t\t}, () => {\r\n\t\t\t\t\t\t\t\thero.name = NameGenerator.generateName();\r\n\t\t\t\t\t\t\t\tthis.props.addHero(hero);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\t} else if (this.state.selectedHero.xp >= this.state.selectedHero.level) {\r\n\t\t\t\tdrawerTitle = 'Level Up';\r\n\t\t\t\tdrawerContent = (\r\n\t\t\t\t\t<HeroLevelUpPanel\r\n\t\t\t\t\t\thero={this.state.selectedHero}\r\n\t\t\t\t\t\tfinished={(trait, skill, feature) => {\r\n\t\t\t\t\t\t\tconst hero = this.state.selectedHero as Hero;\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tselectedHero: null\r\n\t\t\t\t\t\t\t}, () => {\r\n\t\t\t\t\t\t\t\tthis.props.levelUp(hero, trait, skill, feature);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tdrawerTitle = 'Character Sheet';\r\n\t\t\t\tdrawerContent = (\r\n\t\t\t\t\t<CharacterSheet hero={this.state.selectedHero as Hero}/>\r\n\t\t\t\t);\r\n\t\t\t\tdrawerClosable = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet info = null;\r\n\t\tlet mapBtn = null;\r\n\t\tif (this.props.game.heroes.every(h => h.name !== HeroHelper.PlaceholderName)) {\r\n\t\t\tmapBtn = (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Divider/>\r\n\t\t\t\t\t<Button block={true} onClick={() => this.props.back()}>Campaign Map</Button>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tinfo = (\r\n\t\t\t\t<Typography.Paragraph>\r\n\t\t\t\t\tClick on a blank hero card to create a new level 1 hero.\r\n\t\t\t\t</Typography.Paragraph>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{info}\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t{heroes}\r\n\t\t\t\t</Row>\r\n\t\t\t\t{mapBtn}\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\ttitle={drawerTitle}\r\n\t\t\t\t\twidth='50%'\r\n\t\t\t\t\tvisible={drawerContent !== null}\r\n\t\t\t\t\tclosable={drawerClosable}\r\n\t\t\t\t\tmaskClosable={drawerClosable}\r\n\t\t\t\t\tonClose={() => this.setState({ selectedHero: null })}\r\n\t\t\t\t>\r\n\t\t\t\t\t{drawerContent}\r\n\t\t\t\t</Drawer>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import { Button } from 'antd';\r\nimport React from 'react';\r\nimport { Game } from '../../models/game';\r\n\r\ninterface Props {\r\n\tgame: Game | null;\r\n\tstartCampaign: () => void;\r\n\tcontinueCampaign: () => void;\r\n}\r\n\r\nexport class LandingScreen extends React.Component<Props> {\r\n\tpublic render() {\r\n\t\tif (this.props.game && this.props.game.map) {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Button block={true} type='primary' onClick={() => this.props.continueCampaign()}>Continue your campaign</Button>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Button block={true} type='primary' onClick={() => this.props.startCampaign()}>Start a new campaign</Button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React from 'react';\r\nimport { Encounter, EncounterHelper } from '../models/encounter';\r\nimport { FeatureHelper } from '../models/feature';\r\nimport { Game, GameHelper } from '../models/game';\r\nimport { HeroHelper } from '../models/hero';\r\nimport { Utils } from '../utils/utils';\r\nimport { CampaignMapScreen } from './screens/campaign-map-screen';\r\nimport { EncounterScreen } from './screens/encounter-screen';\r\nimport { HeroesScreen } from './screens/heroes-screen';\r\nimport { LandingScreen } from './screens/landing-screen';\r\n\r\ninterface Props {\r\n}\r\n\r\ninterface State {\r\n\tscreen: 'landing' | 'heroes' | 'campaign-map' | 'encounter';\r\n\tgame: Game | null;\r\n}\r\n\r\nexport class Main extends React.Component<Props, State> {\r\n\r\n\tconstructor(props: Props) {\r\n\t\tsuper(props);\r\n\r\n\t\tlet game: Game | null = null;\r\n\t\ttry {\r\n\t\t\tconst str = window.localStorage.getItem('game');\r\n\t\t\tif (str) {\r\n\t\t\t\tgame = JSON.parse(str);\r\n\t\t\t}\r\n\t\t} catch (ex) {\r\n\t\t\tconsole.error('Could not parse JSON: ', ex);\r\n\t\t}\r\n\r\n\t\tthis.state = {\r\n\t\t\tscreen: 'landing',\r\n\t\t\tgame: game\r\n\t\t};\r\n\t}\r\n\r\n\tpublic componentDidUpdate() {\r\n\t\tthis.saveAfterDelay();\r\n\t}\r\n\r\n\tprivate changeValue(source: any, type: string, value: any) {\r\n\t\tconst tokens = type.split('.');\r\n\t\tlet obj = source;\r\n\t\tfor (let n = 0; n !== tokens.length; ++n) {\r\n\t\t\tconst token = tokens[n];\r\n\t\t\tif (n === tokens.length - 1) {\r\n\t\t\t\tobj[token] = value;\r\n\t\t\t} else {\r\n\t\t\t\tobj = obj[token];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t});\r\n\t}\r\n\r\n\tprivate nudgeValue(source: any, type: string, delta: number) {\r\n\t\tconst tokens = type.split('.');\r\n\t\tlet obj = source;\r\n\t\tfor (let n = 0; n !== tokens.length; ++n) {\r\n\t\t\tconst token = tokens[n];\r\n\t\t\tif (n === tokens.length - 1) {\r\n\t\t\t\tconst value = obj[token] + delta;\r\n\t\t\t\tthis.changeValue(obj, token, value);\r\n\t\t\t} else {\r\n\t\t\t\tobj = obj[token];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t//#region Saving\r\n\r\n\tprivate saveAfterDelay = Utils.debounce(() => this.save(), 5 * 1000);\r\n\r\n\tprivate save() {\r\n\t\tthis.saveKey(this.state.game, 'game');\r\n\t}\r\n\r\n\tprivate saveKey(obj: any, key: string) {\r\n\t\ttry {\r\n\t\t\tconst json = JSON.stringify(obj);\r\n\t\t\twindow.localStorage.setItem(key, json);\r\n\t\t} catch (ex) {\r\n\t\t\tconsole.error('Could not stringify data: ', ex);\r\n\t\t}\r\n\t}\r\n\r\n\t//#endregion\r\n\r\n\tprivate getContent() {\r\n\t\tswitch (this.state.screen) {\r\n\t\t\tcase 'landing':\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<LandingScreen\r\n\t\t\t\t\t\tgame={this.state.game}\r\n\t\t\t\t\t\tstartCampaign={() => {\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tgame: GameHelper.createGame(),\r\n\t\t\t\t\t\t\t\tscreen: 'heroes'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tcontinueCampaign={() => {\r\n\t\t\t\t\t\t\tconst all = (this.state.game !== null) && this.state.game.heroes.every(h => h.name !== HeroHelper.PlaceholderName);\r\n\t\t\t\t\t\t\tif (all) {\r\n\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\tscreen: 'campaign-map'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\tscreen: 'heroes'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\tcase 'campaign-map':\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<CampaignMapScreen\r\n\t\t\t\t\t\tgame={this.state.game as Game}\r\n\t\t\t\t\t\tviewHeroes={() => {\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tscreen: 'heroes'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tstartEncounter={() => {\r\n\t\t\t\t\t\t\tif (this.state.game) {\r\n\t\t\t\t\t\t\t\tconst game = this.state.game;\r\n\t\t\t\t\t\t\t\tgame.encounter = EncounterHelper.createEncounter();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tgame: this.state.game,\r\n\t\t\t\t\t\t\t\tscreen: 'encounter'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tabandonCampaign={() => {\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tgame: null,\r\n\t\t\t\t\t\t\t\tscreen: 'landing'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\tcase 'heroes':\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<HeroesScreen\r\n\t\t\t\t\t\tgame={this.state.game as Game}\r\n\t\t\t\t\t\taddHero={hero => {\r\n\t\t\t\t\t\t\tif (this.state.game) {\r\n\t\t\t\t\t\t\t\tconst game = this.state.game;\r\n\t\t\t\t\t\t\t\tconst index = this.state.game.heroes.findIndex(h => h.id === hero.id);\r\n\t\t\t\t\t\t\t\tif (index === -1) {\r\n\t\t\t\t\t\t\t\t\tgame.heroes.push(hero);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tgame.heroes[index] = hero;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tUtils.sort(game.heroes);\r\n\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\tgame: game\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tlevelUp={(hero, trait, skill, feature) => {\r\n\t\t\t\t\t\t\thero.features.push(FeatureHelper.createTraitFeature(trait, 1));\r\n\t\t\t\t\t\t\thero.features.push(FeatureHelper.createSkillFeature(skill, 1));\r\n\t\t\t\t\t\t\thero.features.push(feature);\r\n\t\t\t\t\t\t\thero.level += 1;\r\n\t\t\t\t\t\t\thero.xp = 0;\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tgame: this.state.game\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tincrementXP={hero => {\r\n\t\t\t\t\t\t\thero.xp += 1;\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tgame: this.state.game\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tback={() => {\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tscreen: 'campaign-map'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\tcase 'encounter':\r\n\t\t\t\tif (this.state.game && this.state.game.encounter) {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<EncounterScreen\r\n\t\t\t\t\t\t\tencounter={this.state.game.encounter}\r\n\t\t\t\t\t\t\tfinish={() => {\r\n\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\tscreen: 'campaign-map'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.state.screen}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tprivate getHeading() {\r\n\t\tswitch (this.state.screen) {\r\n\t\t\tcase 'heroes':\r\n\t\t\t\treturn 'Your Heroes';\r\n\t\t}\r\n\r\n\t\treturn 'Skirmish';\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\ttry {\r\n\t\t\treturn (\r\n\t\t\t\t<div className='skirmish'>\r\n\t\t\t\t\t<div className='top-bar'>\r\n\t\t\t\t\t\t{this.getHeading()}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='content'>\r\n\t\t\t\t\t\t{this.getContent()}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.error(e);\r\n\t\t\treturn <div className='render-error'/>;\r\n\t\t}\r\n\t}\r\n}\r\n","import { EncounterMap, EncounterMapHelper } from './encounter-map';\r\nimport { Monster } from './hero';\r\n\r\nexport interface Encounter {\r\n\theroIDs: string[];\r\n\tmonsters: Monster[];\r\n\tmap: EncounterMap;\r\n}\r\n\r\nexport class EncounterHelper {\r\n\tpublic static createEncounter(): Encounter {\r\n\t\treturn {\r\n\t\t\theroIDs: [],\r\n\t\t\tmonsters: [],\r\n\t\t\tmap: EncounterMapHelper.createMap()\r\n\t\t};\r\n\t}\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './style/app.scss';\r\nimport 'antd/dist/antd.css';\r\n\r\nimport { Main } from './components/main';\r\n\r\nReactDOM.render(<Main />, document.getElementById('root'));\r\n"],"sourceRoot":""}