(this.webpackJsonpskirmish=this.webpackJsonpskirmish||[]).push([[0],{100:function(e,a,t){e.exports=t(155)},105:function(e,a,t){},155:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),l=t(6),i=t.n(l);t(105),t(106);class s{static createMap(){return{}}}var c,o,u,d,m,p,h,g=t(162);class y{static guid(){return Object(g.a)()}static sort(e,a=[]){0===a.length&&(a=[{field:"name",dir:"asc"}]);return e.sort((e,t)=>{var r=0;return a.forEach(a=>{0===r&&(r=((e,a,t)=>{if(void 0!==e[t]&&void 0!==a[t]){if(e[t]<a[t])return-1;if(e[t]>a[t])return 1}return 0})(e,t,a.field)*("asc"===a.dir?1:-1))}),r}),e}static shuffle(e){for(var a=e.length;0!==a;){var t=y.randomNumber(a),r=e[a-=1];e[a]=e[t],e[t]=r}return e}static debounce(e,a=500){var t;return()=>{clearTimeout(t),t=setTimeout(e,a)}}static randomNumber(e){return e<=0?0:Math.floor(Math.random()*e)}static randomBoolean(){return 0===y.randomNumber(2)}static randomDecimal(){return y.randomNumber(100)/100}}!function(e){e.None="None",e.Any="Any damage category",e.All="All damage categories",e.Physical="Physical",e.Energy="Energy",e.Corruption="Corruption"}(c||(c={})),function(e){e.None="None",e.Any="Any damage type",e.All="All damage types",e.Acid="Acid",e.Edged="Edged",e.Impact="Impact",e.Piercing="Piercing",e.Cold="Cold",e.Electricity="Electricity",e.Fire="Fire",e.Light="Light",e.Sonic="Sonic",e.Decay="Decay",e.Poison="Poison",e.Psychic="Psychic"}(o||(o={}));!function(e){e.None="None",e.Any="Any proficiency",e.All="All proficiencies",e.MilitaryWeapons="Military weapons",e.LargeWeapons="Large weapons",e.PairedWeapons="Paired weapons",e.RangedWeapons="Ranged weapons",e.PowderWeapons="Powder weapons",e.Implements="Implements",e.LightArmor="Light armor",e.HeavyArmor="Heavy armor",e.Shields="Shields"}(u||(u={})),function(e){e.None="None",e.Any="Any skill category",e.All="All skill categories",e.Physical="Physical",e.Mental="Mental"}(d||(d={})),function(e){e.None="None",e.Any="Any skill",e.All="All skills",e.Athletics="Athletics",e.Brawl="Brawl",e.Perception="Perception",e.Reactions="Reactions",e.Spellcasting="Spellcasting",e.Stealth="Stealth",e.Weapon="Weapon"}(m||(m={}));!function(e){e.None="None",e.Any="Any trait",e.All="All traits",e.Endurance="Endurance",e.Resolve="Resolve",e.Speed="Speed"}(p||(p={}));!function(e){e.DamageBonus="Damage bonus",e.DamageCategoryBonus="Damage category bonus",e.DamageResist="Damage resistance",e.DamageCategoryResist="Damage category resistance",e.Proficiency="Proficiency",e.Skill="Skill",e.SkillCategory="Skill category",e.Trait="Trait"}(h||(h={}));class E{static getName(e){switch(e.type){case h.DamageBonus:return e.damage+" "+e.rank;case h.DamageCategoryBonus:return e.damageCategory+e.rank;case h.DamageResist:return e.damage+" resistance "+e.rank;case h.DamageCategoryResist:return e.damageCategory+" resistance "+e.rank;case h.Proficiency:return e.proficiency;case h.Skill:return e.skill+" "+e.rank;case h.SkillCategory:return e.skillCategory+" skills "+e.rank;case h.Trait:return e.trait+" "+e.rank}}static hasChoice(e){switch(e.type){case h.DamageBonus:case h.DamageResist:return e.damage===o.Any;case h.DamageCategoryBonus:case h.DamageCategoryResist:return e.damageCategory===c.Any;case h.Proficiency:return e.proficiency===u.Any;case h.Skill:return e.skill===m.Any;case h.SkillCategory:return e.skillCategory===d.Any;case h.Trait:return e.trait===p.Any}}static createDamageBonusFeature(e,a){return{id:y.guid(),type:h.DamageBonus,damage:e,damageCategory:c.None,proficiency:u.None,skill:m.None,skillCategory:d.None,trait:p.None,rank:a}}static createDamageCategoryBonusFeature(e,a){return{id:y.guid(),type:h.DamageCategoryBonus,damage:o.None,damageCategory:e,proficiency:u.None,skill:m.None,skillCategory:d.None,trait:p.None,rank:a}}static createDamageResistFeature(e,a){return{id:y.guid(),type:h.DamageResist,damage:e,damageCategory:c.None,proficiency:u.None,skill:m.None,skillCategory:d.None,trait:p.None,rank:a}}static createDamageCategoryResistFeature(e,a){return{id:y.guid(),type:h.DamageCategoryResist,damage:o.None,damageCategory:e,proficiency:u.None,skill:m.None,skillCategory:d.None,trait:p.None,rank:a}}static createProficiencyFeature(e){return{id:y.guid(),type:h.Proficiency,damage:o.None,damageCategory:c.None,proficiency:e,skill:m.None,skillCategory:d.None,trait:p.None,rank:0}}static createSkillFeature(e,a){return{id:y.guid(),type:h.Skill,damage:o.None,damageCategory:c.None,proficiency:u.None,skill:e,skillCategory:d.None,trait:p.None,rank:a}}static createSkillCategoryFeature(e,a){return{id:y.guid(),type:h.SkillCategory,damage:o.None,damageCategory:c.None,proficiency:u.None,skill:m.None,skillCategory:e,trait:p.None,rank:a}}static createTraitFeature(e,a){return{id:y.guid(),type:h.Trait,damage:o.None,damageCategory:c.None,proficiency:u.None,skill:m.None,skillCategory:d.None,trait:e,rank:a}}}E.universalFeatures=[E.createTraitFeature(p.Any,1),E.createSkillFeature(m.Any,1),E.createProficiencyFeature(u.Any)];class k{static createMap(){return{}}}class f{static createPlaceholder(e){return{id:y.guid(),name:e}}}f.universalActions=[];var v=[{id:"background-acrobat",name:"Acrobat",features:[E.createSkillFeature(m.Athletics,2),E.createTraitFeature(p.Speed,1)],actions:[]},{id:"background-commander",name:"Commander",features:[],actions:[f.createPlaceholder("Knock prone"),f.createPlaceholder("Extra move")]},{id:"background-mountebank",name:"Mountebank",features:[],actions:[f.createPlaceholder("Command attack"),f.createPlaceholder("Command move"),f.createPlaceholder("Buff ally")]},{id:"background-mystic",name:"Mystic",features:[E.createSkillFeature(m.Spellcasting,2),E.createDamageCategoryBonusFeature(c.Energy,1),E.createDamageCategoryBonusFeature(c.Corruption,1),E.createDamageCategoryResistFeature(c.Corruption,1)],actions:[f.createPlaceholder("Confusion (target makes attack)"),f.createPlaceholder("Stun (target loses action)"),f.createPlaceholder("Transfer a condition")]},{id:"background-noble",name:"Noble",features:[],actions:[f.createPlaceholder("Buff ally"),f.createPlaceholder("Debuff enemy"),f.createPlaceholder("Taunt")]},{id:"background-physician",name:"Physician",features:[],actions:[f.createPlaceholder("Remove condition (ally)"),f.createPlaceholder("Healing (damage)"),f.createPlaceholder("Healing (wounds)")]},{id:"background-reaver",name:"Reaver",features:[E.createSkillFeature(m.Brawl,2),E.createSkillFeature(m.Weapon,2),E.createDamageCategoryResistFeature(c.Any,1),E.createDamageCategoryBonusFeature(c.Physical,1)],actions:[f.createPlaceholder("Frenzy (adds to damage)"),f.createPlaceholder("Speed boost"),f.createPlaceholder("Endurance boost")]},{id:"background-sentinel",name:"Sentinel",features:[E.createTraitFeature(p.Endurance,1),E.createTraitFeature(p.Resolve,1),E.createDamageResistFeature(o.All,1)],actions:[f.createPlaceholder("Mark enemy"),f.createPlaceholder("Interposing stance")]},{id:"background-thief",name:"Thief",features:[E.createSkillFeature(m.Reactions,2),E.createSkillFeature(m.Stealth,2)],actions:[f.createPlaceholder("Disable trap"),f.createPlaceholder("Set trap")]}];class P{static getBackground(e){return v.find(a=>a.id===e)}static getDeck(){var e=[];return v.forEach(a=>{e.push(a.id)}),e}}var S=[{id:"role-barbarian",name:"Barbarian",traits:[p.Endurance],skills:[m.Weapon],proficiencies:[u.LargeWeapons,u.LightArmor],features:[E.createTraitFeature(p.Endurance,1),E.createSkillFeature(m.Weapon,2),E.createDamageCategoryBonusFeature(c.Physical,1),E.createDamageCategoryResistFeature(c.Physical,1)],actions:[f.createPlaceholder("Overhead strike"),f.createPlaceholder("Knockdown strike"),f.createPlaceholder("Stunning strike"),f.createPlaceholder("Haymaker strike")]},{id:"role-dervish",name:"Dervish",traits:[p.Speed],skills:[m.Weapon],proficiencies:[u.PairedWeapons,u.LightArmor],features:[E.createTraitFeature(p.Speed,1),E.createSkillFeature(m.Weapon,2)],actions:[f.createPlaceholder("Dual strike (one target)"),f.createPlaceholder("Dual strike (two targets)"),f.createPlaceholder("Whirlwind strike"),f.createPlaceholder("Leaping strike"),f.createPlaceholder("Dodging stance (adds physical damage resistance)")]},{id:"role-enchanter",name:"Enchanter",traits:[p.Resolve],skills:[m.Spellcasting],proficiencies:[u.Implements],features:[E.createTraitFeature(p.Resolve,1),E.createSkillFeature(m.Spellcasting,2),E.createDamageBonusFeature(o.Psychic,1),E.createDamageResistFeature(o.Psychic,1)],actions:[f.createPlaceholder("Confusion (target makes attack)"),f.createPlaceholder("Stun (target loses action)"),f.createPlaceholder("Fear (target loses speed)"),f.createPlaceholder("Mental shield (add psychic damage resistance)"),f.createPlaceholder("Weaken (reduce target's damage)")]},{id:"role-ninja",name:"Ninja",traits:[p.Speed],skills:[m.Brawl,m.Stealth],proficiencies:[],features:[E.createTraitFeature(p.Speed,1),E.createSkillFeature(m.Brawl,2),E.createSkillFeature(m.Stealth,2),E.createDamageCategoryBonusFeature(c.Physical,1)],actions:[f.createPlaceholder("Roundhouse kick"),f.createPlaceholder("Flurry (single target)"),f.createPlaceholder("Leaping kick"),f.createPlaceholder("Lightning speed (move)"),f.createPlaceholder("Adrenal boost (adds to attack / damage)")]},{id:"role-gunslinger",name:"Gunslinger",traits:[p.Speed],skills:[m.Weapon],proficiencies:[u.PowderWeapons],features:[E.createTraitFeature(p.Speed,1),E.createSkillFeature(m.Weapon,2)],actions:[f.createPlaceholder("Deadeye (adds to next attack)"),f.createPlaceholder("Fire"),f.createPlaceholder("Pommel strike"),f.createPlaceholder("Quickfire (two attacks, low accuracy)"),f.createPlaceholder("Careful shot"),f.createPlaceholder("Fusilade (area, low damage)")]},{id:"role-ranger",name:"Ranger",traits:[p.Endurance],skills:[m.Weapon],proficiencies:[u.RangedWeapons,u.LightArmor],features:[E.createTraitFeature(p.Endurance,1),E.createSkillFeature(m.Perception,2),E.createSkillFeature(m.Weapon,2)],actions:[f.createPlaceholder("Quick shot"),f.createPlaceholder("Sure shot"),f.createPlaceholder("Pinning shot (slows)"),f.createPlaceholder("Barrage (area, low damage)"),f.createPlaceholder("Aim (adds to next attack)")]},{id:"role-soldier",name:"Soldier",traits:[p.Endurance],skills:[m.Weapon],proficiencies:[u.MilitaryWeapons,u.HeavyArmor,u.Shields],features:[E.createTraitFeature(p.Endurance,1),E.createSkillFeature(m.Weapon,2),E.createDamageCategoryBonusFeature(c.Physical,1)],actions:[f.createPlaceholder("Charge attack"),f.createPlaceholder("Precise attack"),f.createPlaceholder("Disarming attack"),f.createPlaceholder("Parrying stance"),f.createPlaceholder("Shield bash (push)")]},{id:"role-sorcerer",name:"Sorcerer",traits:[p.Resolve],skills:[m.Spellcasting],proficiencies:[u.Implements],features:[E.createTraitFeature(p.Resolve,1),E.createSkillFeature(m.Spellcasting,2),E.createDamageCategoryBonusFeature(c.Energy,1)],actions:[f.createPlaceholder("Lightning bolt (single target, damage and stuns)"),f.createPlaceholder("Fireball (area, ongoing fire damage)"),f.createPlaceholder("Ice storm (area, damage and reduced speed)"),f.createPlaceholder("Elemental resistance"),f.createPlaceholder("Elemental aura (damage to nearby enemies)")]},{id:"role-warmage",name:"Warmage",traits:[p.Resolve],skills:[m.Weapon],proficiencies:[u.MilitaryWeapons,u.LightArmor],features:[E.createTraitFeature(p.Resolve,1),E.createSkillFeature(m.Weapon,2),E.createDamageCategoryBonusFeature(c.Energy,1),E.createDamageCategoryBonusFeature(c.Physical,1)],actions:[f.createPlaceholder("Flaming blade (ongoing fire)"),f.createPlaceholder("Frost blade (slows)"),f.createPlaceholder("Shocking blade (stuns)"),f.createPlaceholder("Armor enhancement"),f.createPlaceholder("XXX (attack at range)")]},{id:"role-wizard",name:"Wizard",traits:[p.Resolve],skills:[m.Spellcasting],proficiencies:[u.Implements],features:[E.createTraitFeature(p.Resolve,1),E.createSkillFeature(m.Spellcasting,2),E.createDamageCategoryBonusFeature(c.Energy,1)],actions:[f.createPlaceholder("XXX (shield self, resist all damage)"),f.createPlaceholder("XXX (shield other, resist all damage)"),f.createPlaceholder("XXX (push)"),f.createPlaceholder("Magic missile"),f.createPlaceholder("Swap positions")]}];class C{static getRole(e){return S.find(a=>a.id===e)}static getDeck(){var e=[];return S.forEach(a=>{e.push(a.id)}),e}}var D=[{id:"species-human",name:"Human",traits:[p.All],features:[E.createSkillFeature(m.Any,2),E.createDamageBonusFeature(o.Any,1),E.createDamageResistFeature(o.Any,1)],actions:[f.createPlaceholder("Resilient (remove condition on self)")]},{id:"species-construct",name:"Construct",traits:[p.Endurance],features:[E.createTraitFeature(p.Endurance,1),E.createDamageResistFeature(o.Poison,1),E.createDamageResistFeature(o.Psychic,1)],actions:[f.createPlaceholder("Knockdown attack"),f.createPlaceholder("Repair (heal self damage)")]},{id:"species-deva",name:"Deva",traits:[p.Resolve],features:[E.createTraitFeature(p.Resolve,1),E.createSkillFeature(m.Spellcasting,2),E.createDamageCategoryResistFeature(c.Corruption,1)],actions:[f.createPlaceholder("Insight (see opponent stats)"),f.createPlaceholder("Divine light (spell vs resolve, stuns)")]},{id:"species-dwarf",name:"Dwarf",traits:[p.Endurance],features:[E.createTraitFeature(p.Endurance,1),E.createTraitFeature(p.Resolve,1),E.createDamageResistFeature(o.Poison,1),E.createDamageResistFeature(o.Psychic,1)],actions:[f.createPlaceholder("Remove endurance condition on self"),f.createPlaceholder("Remove resolve condition on self")]},{id:"species-elf",name:"Elf",traits:[p.Speed],features:[E.createTraitFeature(p.Speed,1),E.createSkillFeature(m.Perception,2),E.createSkillFeature(m.Reactions,2),E.createSkillFeature(m.Stealth,2)],actions:[f.createPlaceholder("Detect hidden opponents"),f.createPlaceholder("Elven Step (teleport self)")]},{id:"species-gnome",name:"Gnome",traits:[p.Speed],features:[E.createTraitFeature(p.Speed,1),E.createSkillFeature(m.Reactions,2),E.createSkillFeature(m.Stealth,2)],actions:[f.createPlaceholder("Trip attack"),f.createPlaceholder("Disable trap")]},{id:"species-minotaur",name:"Minotaur",traits:[p.Endurance],features:[E.createTraitFeature(p.Endurance,1),E.createSkillFeature(m.Brawl,2),E.createDamageCategoryBonusFeature(c.Physical,1)],actions:[f.createPlaceholder("Gore attack"),f.createPlaceholder("Charge attack"),f.createPlaceholder("Intimidate")]},{id:"species-pixie",name:"Pixie",traits:[p.Speed],features:[E.createTraitFeature(p.Speed,1),E.createSkillFeature(m.Stealth,2)],actions:[f.createPlaceholder("Confusion (target makes attack)"),f.createPlaceholder("Lightning speed")]},{id:"species-reptilian",name:"Reptilian",traits:[p.Speed],features:[E.createTraitFeature(p.Speed,1),E.createSkillFeature(m.Brawl,2),E.createDamageCategoryResistFeature(c.Physical,1),E.createDamageResistFeature(o.Psychic,1)],actions:[f.createPlaceholder("Poison bite"),f.createPlaceholder("Fear snarl"),f.createPlaceholder("Regeneration")]},{id:"species-shadowborn",name:"Shadowborn",traits:[p.Resolve],features:[E.createTraitFeature(p.Resolve,1),E.createSkillFeature(m.Brawl,2),E.createSkillFeature(m.Stealth,2),E.createDamageCategoryResistFeature(c.Corruption,1)],actions:[f.createPlaceholder("Transfer a condition"),f.createPlaceholder("Induce fear"),f.createPlaceholder("Drain energy")]},{id:"species-werewolf",name:"Werewolf",traits:[p.Resolve],features:[E.createTraitFeature(p.Resolve,1),E.createSkillFeature(m.Brawl,2),E.createSkillFeature(m.Perception,2),E.createSkillFeature(m.Stealth,2)],actions:[f.createPlaceholder("Regeneration"),f.createPlaceholder("Bite attack"),f.createPlaceholder("Claw attack")]}];class A{static getSpecies(e){return D.find(a=>a.id===e)}static getDeck(){var e=[];return D.forEach(a=>{e.push(a.id)}),e}}class b{static createHero(){return{id:y.guid(),name:b.PlaceholderName,speciesID:"",roleID:"",backgroundID:"",level:1,xp:0,features:[],items:[]}}static createMonster(){return{id:y.guid(),name:"",level:1,size:1,features:[],actions:[],items:[]}}static featureDeck(e){var a=A.getSpecies(e.speciesID),t=C.getRole(e.roleID),r=P.getBackground(e.backgroundID);return E.universalFeatures.concat(a?a.features:[]).concat(t?t.features:[]).concat(r?r.features:[])}static actionDeck(e){var a=[].concat(f.universalActions);if(e.roleID){var t=A.getSpecies(e.speciesID);a=a.concat(t?t.actions:[]);var r=C.getRole(e.roleID);a=a.concat(r?r.actions:[]);var n=P.getBackground(e.backgroundID);a=a.concat(n?n.actions:[])}return e.actions&&(a=a.concat(e.actions)),e.items.forEach(e=>{a=a.concat(e.actions)}),a}static activeFeatures(e){var a=[].concat(e.features);return e.items.forEach(e=>{a=a.concat(e.features)}),a}static trait(e,a){var t=1;if(e.speciesID){var r=A.getSpecies(e.speciesID);if(r){var n=r.traits.filter(e=>e===a||e===p.All);t+=n.length}}if(e.roleID){var l=C.getRole(e.roleID);if(l){var i=l.traits.filter(e=>e===a||e===p.All);t+=i.length}}return b.activeFeatures(e).filter(e=>e.type===h.Trait).filter(e=>e.trait===a||e.trait===p.All).forEach(e=>t+=e.rank),Math.max(t,0)}static skill(e,a){var t=0;if(e.roleID){var r=C.getRole(e.roleID);if(r){var n=r.skills.filter(e=>e===a||e===m.All);t+=2*n.length}}return b.activeFeatures(e).filter(e=>e.type===h.Skill).filter(e=>e.skill===a||e.skill===m.All).forEach(e=>t+=e.rank),b.activeFeatures(e).filter(e=>e.type===h.SkillCategory).filter(e=>e.skillCategory===class{static getCategory(e){switch(e){case m.All:return d.All;case m.Athletics:case m.Brawl:case m.Stealth:case m.Weapon:return d.Physical;case m.Perception:case m.Reactions:case m.Spellcasting:return d.Mental}return d.None}}.getCategory(a)||e.skillCategory===d.All).forEach(e=>t+=e.rank),Math.max(t,0)}static proficiencies(e){var a=[],t=C.getRole(e.roleID);return a=a.concat(t?t.proficiencies:[]),b.activeFeatures(e).filter(e=>e.type===h.Proficiency).forEach(e=>a.push(e.proficiency)),a.includes(u.All)?[u.All]:a}}b.PlaceholderName="ZZZZZZZZ";class F{static createGame(){return{heroes:[b.createHero(),b.createHero(),b.createHero(),b.createHero(),b.createHero()],items:[],map:k.createMap(),encounter:null}}}var w=t(157),R=t(164),I=t(165),B=t(160);class N extends n.a.Component{render(){return n.a.createElement("div",null,"CAMPAIGN MAP PANEL")}}class T extends n.a.Component{render(){return n.a.createElement("div",null,n.a.createElement(N,{map:this.props.game.map}),n.a.createElement(w.a,null),n.a.createElement(R.a,{gutter:10},n.a.createElement(I.a,{span:8},n.a.createElement(B.a,{block:!0,onClick:()=>this.props.viewHeroes()},"YOUR HEROES")),n.a.createElement(I.a,{span:8},n.a.createElement(B.a,{block:!0,onClick:()=>this.props.startEncounter()},"START AN ENCOUNTER")),n.a.createElement(I.a,{span:8},n.a.createElement(B.a,{block:!0,onClick:()=>this.props.abandonCampaign()},"ABANDON THIS CAMPAIGN"))))}}class H extends n.a.Component{render(){return n.a.createElement("div",null,"ENCOUNTER MAP PANEL")}}class W extends n.a.Component{victory(){this.props.finish()}defeat(){this.props.finish()}retreat(){this.props.finish()}concede(){this.props.finish()}render(){return n.a.createElement("div",null,n.a.createElement(H,{map:this.props.encounter.map}),n.a.createElement(w.a,null),n.a.createElement(R.a,{gutter:10},n.a.createElement(I.a,{span:6},n.a.createElement(B.a,{block:!0,onClick:()=>this.victory()},"VICTORY")),n.a.createElement(I.a,{span:6},n.a.createElement(B.a,{block:!0,onClick:()=>this.defeat()},"DEFEAT")),n.a.createElement(I.a,{span:6},n.a.createElement(B.a,{block:!0,onClick:()=>this.retreat()},"RETREAT")),n.a.createElement(I.a,{span:6},n.a.createElement(B.a,{block:!0,onClick:()=>this.concede()},"CONCEDE"))))}}var M=t(158),L=t(163);class x{static generateName(){var e=["As Has Khe Zash Gl Ig Iv Kos Miv Pav Ser Dar Even Gor Rand Sto Tam Barer Keth Mum","Mar Burg Al Hel Wrayt S Eag Eath Joan Answ L Ot Ced At Tal Ham Jasm Mail Yash Row","Adr Alber Ba Bar Gar Kildr Kath Dies Eld Gurd Har Morg Or Rur Mar Vis Jen Torg Tak Thor End Ris Em Gunn","Ad All Aram Berri Car Enial Gann Im Per Sorvi Var Adr An Beth Bir Jelen Key Lesh Mer Mia Naiv Quel Sar Shan","Al An C Cor Eld Er Finn Gar Lin Mer Os Per Ros An Cal Cor Kith Lav Ned Pae Seraph T V Chen","Are Bala Bhar Don Gh Hesk Med Meh Nad Pand Patr Sham Shed Ak Bir Farid Fla Ka Ko Mish Thav Uad Eder Hener","Alu Stos Fa Ravay Leo Stok Vic El Yeng Car Ric Ar Guir Es My Pey"].join(" ").toLowerCase().split(" "),a=["Eir Eid Eed El Ar An Or Ef Al Vin Orn Dur Stag Elm Ur Us","Ik Ich Ern End Tor Nor In Rak Gen Sik Gran Linn Vok Brek Dal Gar","An Ar Il Rian Ric Is Dan Arai Meral Cian En Rion Ialis Ior Nan Kas","Ton Der Ade Rin Don Rich Nan Ret Al Born Coe By Fire Yas Dal Yle","Han Asar Ash Aar Esch An Rash En Arr Jed Rin Gar Ash Dinn Hun Rek","Orel Aadi Ahn Aver Eiros Kain Retor Lannan Pet Ikos","Er Ey A E Il Elia Ya Ed Eue Ild Oane Yne Orna Ie Ala Erri Ea Ia","Ber Tin Hild Dryn A Eth Runn Ellen Loda Dis Ja Lin Ra Tyrd De Rasa","Rie Aea Striana Inua Rynna Ilia Na Neth Leth Iel Lee Qui Astra Ia Ania Ynn","Dry Ree Lie Ora Emia Ian Ri Inia Ina Aena Ani Erna Lyse La Da Aela","Ra Ir Eh Ann Ilar Rinn Ann La Ra A Ina Va Hit Ederei Ere Eila","Ina Ceryn Vyn Ella Aella Vyre"].join(" ").toLowerCase().split(" "),t=y.randomNumber(e.length),r=y.randomNumber(a.length),n="";if(0===y.randomNumber(10)){var l=["-","'"," "];n=l[y.randomNumber(l.length)]}return x.capitalise(e[t]+n+a[r])}static capitalise(e){return e.split(" ").filter(e=>e.length>0).map(e=>e[0].toUpperCase()+(e.length>1?e.substring(1):"")).join(" ")}}class G extends n.a.Component{render(){return n.a.createElement(R.a,{justify:this.props.horizontal,align:this.props.vertical,style:{width:"100%",height:"100%"}},this.props.children)}}G.defaultProps={horizontal:"center",vertical:"middle",style:{}};var O,K=t(159),U=t(161);class j extends n.a.Component{constructor(e){super(e),this.state={view:"stats"}}render(){var e,a,t,r=((null===(e=A.getSpecies(this.props.hero.speciesID))||void 0===e?void 0:e.name)||"Unknown species")+" | "+((null===(a=C.getRole(this.props.hero.roleID))||void 0===a?void 0:a.name)||"Unknown role")+" |  "+((null===(t=P.getBackground(this.props.hero.backgroundID))||void 0===t?void 0:t.name)||"Unknown background"),l="Level "+this.props.hero.level;if("mini"===this.props.display)return n.a.createElement("div",{className:"character-sheet character-sheet-mini",style:{height:"100%",display:"flex",flexDirection:"column"}},n.a.createElement(G,{style:{flex:"1 1 auto"}},n.a.createElement(M.a.Paragraph,null,this.props.hero.name||"unnamed hero")),n.a.createElement(G,{style:{flex:"1 1 auto"}},n.a.createElement(M.a.Paragraph,null,r)),n.a.createElement(G,{style:{flex:"1 1 auto"}},n.a.createElement(M.a.Paragraph,null,l)));var i=null;switch(this.state.view){case"stats":var s=n.a.createElement("div",null,n.a.createElement(M.a.Paragraph,null,"Endurance ",b.trait(this.props.hero,p.Endurance)),n.a.createElement(M.a.Paragraph,null,"Resolve ",b.trait(this.props.hero,p.Resolve)),n.a.createElement(M.a.Paragraph,null,"Speed ",b.trait(this.props.hero,p.Speed))),c=n.a.createElement("div",null,n.a.createElement(M.a.Paragraph,null,"Athletics ",b.skill(this.props.hero,m.Athletics)),n.a.createElement(M.a.Paragraph,null,"Brawl ",b.skill(this.props.hero,m.Brawl)),n.a.createElement(M.a.Paragraph,null,"Perception ",b.skill(this.props.hero,m.Perception)),n.a.createElement(M.a.Paragraph,null,"Reactions ",b.skill(this.props.hero,m.Reactions)),n.a.createElement(M.a.Paragraph,null,"Spellcasting ",b.skill(this.props.hero,m.Spellcasting)),n.a.createElement(M.a.Paragraph,null,"Stealth ",b.skill(this.props.hero,m.Stealth)),n.a.createElement(M.a.Paragraph,null,"Weapon ",b.skill(this.props.hero,m.Weapon))),o=n.a.createElement("div",null,n.a.createElement(M.a.Paragraph,null,b.proficiencies(this.props.hero).join(", ")||"None"));i=n.a.createElement("div",null,n.a.createElement(R.a,{gutter:10},n.a.createElement(I.a,{span:12},n.a.createElement(w.a,null,"Traits"),s,n.a.createElement(w.a,null,"Proficiencies"),o),n.a.createElement(I.a,{span:12},n.a.createElement(w.a,null,"Skills"),c)),n.a.createElement(w.a,null,"More"),n.a.createElement("div",null,"DAMAGE BONUSES"),n.a.createElement("div",null,"DAMAGE RESISTANCES"),n.a.createElement(w.a,null,"XP"),n.a.createElement(K.a,{percent:100*this.props.hero.xp/this.props.hero.level,showInfo:!1}),n.a.createElement(M.a.Paragraph,null,this.props.hero.xp," of ",this.props.hero.level," XP required for level ",this.props.hero.level+1));break;case"items":i=n.a.createElement("div",null,n.a.createElement("div",null,"ITEM CARDS"),n.a.createElement("div",null,"CAMPAIGN ITEM CARDS"));break;case"features":i=n.a.createElement("div",null,n.a.createElement("div",null,"FEATURE DECK"));break;case"actions":i=n.a.createElement("div",null,n.a.createElement("div",null,"ACTION DECK"))}return n.a.createElement("div",{className:"character-sheet character-sheet-full"},n.a.createElement(M.a.Title,null,this.props.hero.name||"unnamed hero"),n.a.createElement(M.a.Paragraph,null,r," | Level ",this.props.hero.level),n.a.createElement(w.a,null,n.a.createElement(U.a.Group,{buttonStyle:"solid",value:this.state.view,onChange:e=>this.setState({view:e.target.value})},n.a.createElement(U.a.Button,{value:"stats"},"Statistics"),n.a.createElement(U.a.Button,{value:"items"},"Equipment"),n.a.createElement(U.a.Button,{value:"features"},"Feature Deck"),n.a.createElement(U.a.Button,{value:"actions"},"Action Deck"))),i)}}j.defaultProps={display:"full"},function(e){e.None="None",e.Any="Any location",e.All="All locations",e.Head="Head",e.Neck="Neck",e.Body="Body",e.Feet="Feet",e.Hand="Hand",e.TwoHands="Two hands",e.Ring="Ring"}(O||(O={}));var X=[{id:"item-punch",name:"Punch",proficiency:u.None,location:O.None,weapon:{damage:{type:o.Impact,rank:0},range:0,unreliable:0},features:[],actions:[]},{id:"item-longsword",name:"Longsword",proficiency:u.MilitaryWeapons,location:O.Hand,weapon:{damage:{type:o.Edged,rank:3},range:0,unreliable:0},features:[],actions:[]},{id:"item-handaxe",name:"Handaxe",proficiency:u.MilitaryWeapons,location:O.Hand,weapon:{damage:{type:o.Edged,rank:3},range:0,unreliable:0},features:[],actions:[]},{id:"item-mace",name:"Mace",proficiency:u.MilitaryWeapons,location:O.Hand,weapon:{damage:{type:o.Impact,rank:3},range:0,unreliable:0},features:[],actions:[]},{id:"item-morningstar",name:"Morningstar",proficiency:u.MilitaryWeapons,location:O.Hand,weapon:{damage:{type:o.Impact,rank:4},range:0,unreliable:1},features:[],actions:[]},{id:"item-spear",name:"Spear",proficiency:u.MilitaryWeapons,location:O.Hand,weapon:{damage:{type:o.Piercing,rank:2},range:1,unreliable:0},features:[],actions:[]},{id:"item-mattock",name:"Mattock",proficiency:u.MilitaryWeapons,location:O.Hand,weapon:{damage:{type:o.Piercing,rank:3},range:0,unreliable:0},features:[],actions:[]},{id:"item-rapier",name:"Rapier",proficiency:u.MilitaryWeapons,location:O.Hand,weapon:{damage:{type:o.Piercing,rank:3},range:0,unreliable:0},features:[],actions:[]},{id:"item-greatsword",name:"Greatsword",proficiency:u.LargeWeapons,location:O.TwoHands,weapon:{damage:{type:o.Edged,rank:5},range:0,unreliable:0},features:[],actions:[]},{id:"item-battleaxe",name:"Battleaxe",proficiency:u.LargeWeapons,location:O.TwoHands,weapon:{damage:{type:o.Edged,rank:5},range:0,unreliable:0},features:[],actions:[]},{id:"item-glaive",name:"Glaive",proficiency:u.LargeWeapons,location:O.TwoHands,weapon:{damage:{type:o.Edged,rank:4},range:1,unreliable:0},features:[],actions:[]},{id:"item-warhammer",name:"Warhammer",proficiency:u.LargeWeapons,location:O.TwoHands,weapon:{damage:{type:o.Impact,rank:5},range:0,unreliable:0},features:[],actions:[]},{id:"item-quarterstaff",name:"Quarterstaff",proficiency:u.LargeWeapons,location:O.TwoHands,weapon:{damage:{type:o.Impact,rank:5},range:0,unreliable:0},features:[],actions:[]},{id:"item-pike",name:"Pike",proficiency:u.LargeWeapons,location:O.TwoHands,weapon:{damage:{type:o.Piercing,rank:4},range:1,unreliable:0},features:[],actions:[]},{id:"item-trident",name:"Trident",proficiency:u.LargeWeapons,location:O.TwoHands,weapon:{damage:{type:o.Piercing,rank:5},range:0,unreliable:0},features:[],actions:[]},{id:"item-dagger",name:"Dagger",proficiency:u.PairedWeapons,location:O.TwoHands,weapon:{damage:{type:o.Edged,rank:2},range:0,unreliable:0},features:[],actions:[]},{id:"item-sai",name:"Sai",proficiency:u.PairedWeapons,location:O.TwoHands,weapon:{damage:{type:o.Piercing,rank:2},range:0,unreliable:0},features:[],actions:[]},{id:"item-longbow",name:"Longbow",proficiency:u.RangedWeapons,location:O.TwoHands,weapon:{damage:{type:o.Piercing,rank:3},range:10,unreliable:0},features:[],actions:[]},{id:"item-crossbow",name:"Crossbow",proficiency:u.RangedWeapons,location:O.TwoHands,weapon:{damage:{type:o.Piercing,rank:3},range:15,unreliable:1},features:[],actions:[]},{id:"item-rifle",name:"Rifle",proficiency:u.PowderWeapons,location:O.TwoHands,weapon:{damage:{type:o.Piercing,rank:5},range:15,unreliable:2},features:[],actions:[]},{id:"item-pistol",name:"Pistol",proficiency:u.PowderWeapons,location:O.Hand,weapon:{damage:{type:o.Piercing,rank:4},range:10,unreliable:2},features:[],actions:[]},{id:"item-orb",name:"Orb",proficiency:u.Implements,location:O.Hand,weapon:null,features:[],actions:[]},{id:"item-wand",name:"Wand",proficiency:u.Implements,location:O.Hand,weapon:null,features:[],actions:[]},{id:"item-tome",name:"Tome",proficiency:u.Implements,location:O.Hand,weapon:null,features:[],actions:[]},{id:"item-amulet",name:"Amulet",proficiency:u.Implements,location:O.Neck,weapon:null,features:[],actions:[]},{id:"item-leather-armor",name:"Leather Armor",proficiency:u.LightArmor,location:O.Body,weapon:null,features:[E.createDamageCategoryResistFeature(c.Physical,1)],actions:[]},{id:"item-hide-armor",name:"Hide Armor",proficiency:u.LightArmor,location:O.Body,weapon:null,features:[E.createDamageCategoryResistFeature(c.Physical,2),E.createSkillCategoryFeature(d.Physical,-1)],actions:[]},{id:"item-brigandine-armor",name:"Brigandine Armor",proficiency:u.LightArmor,location:O.Body,weapon:null,features:[E.createDamageCategoryResistFeature(c.Physical,3),E.createSkillCategoryFeature(d.Physical,-1),E.createTraitFeature(p.Speed,-1)],actions:[]},{id:"item-chain-armor",name:"Chain Armor",proficiency:u.HeavyArmor,location:O.Body,weapon:null,features:[E.createDamageCategoryResistFeature(c.Physical,4),E.createSkillCategoryFeature(d.Physical,-2),E.createTraitFeature(p.Speed,-1)],actions:[]},{id:"item-plate-armor",name:"Plate Armor",proficiency:u.HeavyArmor,location:O.Body,weapon:null,features:[E.createDamageCategoryResistFeature(c.Physical,5),E.createSkillCategoryFeature(d.Physical,-3),E.createTraitFeature(p.Speed,-2)],actions:[]},{id:"item-shield",name:"Shield",proficiency:u.Shields,location:O.Hand,weapon:null,features:[E.createDamageCategoryResistFeature(c.Physical,1),E.createSkillCategoryFeature(d.Physical,-1)],actions:[]},{id:"item-tower-shield",name:"Tower shield",proficiency:u.Shields,location:O.Hand,weapon:null,features:[E.createDamageCategoryResistFeature(c.Physical,2),E.createSkillCategoryFeature(d.Physical,-2)],actions:[]}];class V{static getItem(e){return X.find(a=>a.id===e)}static getItems(e){return X.filter(a=>a.proficiency===e)}}class J extends n.a.Component{render(){return n.a.createElement("div",{style:{padding:this.props.value,height:"100%",width:"100%"}},this.props.children)}}J.defaultProps={value:10};class Y extends n.a.Component{render(){return n.a.createElement("div",{className:"front"===this.props.display?"playing-card":"playing-card flipped",onClick:()=>this.props.onClick(),role:"button"},n.a.createElement("div",{className:"playing-card-inner"},n.a.createElement("div",{className:"playing-card-front"},this.props.children),n.a.createElement("div",{className:"playing-card-back"},n.a.createElement(G,null,this.props.back))))}}Y.defaultProps={back:"",display:"front",onClick:()=>null};class Z extends n.a.Component{constructor(e){super(e),this.state={hero:b.createHero()}}render(){var e=null;e=""===this.state.hero.speciesID&&""===this.state.hero.roleID&&""===this.state.hero.backgroundID?n.a.createElement(z,{select:(e,a,t)=>{var r=this.state.hero;r.speciesID=e,r.roleID=a,r.backgroundID=t,this.setState({hero:r})}}):b.proficiencies(this.state.hero).length!==this.state.hero.items.length?n.a.createElement(Q,{hero:this.state.hero,addItems:e=>{var a=this.state.hero;a.items=e,this.setState({hero:a})}}):n.a.createElement(B.a,{block:!0,type:"primary",onClick:()=>this.props.finished(this.state.hero)},"OK");var a=null;if(""!==this.state.hero.speciesID&&""!==this.state.hero.roleID&&""!==this.state.hero.backgroundID){var t=A.getSpecies(this.state.hero.speciesID),r=C.getRole(this.state.hero.roleID),l=P.getBackground(this.state.hero.backgroundID);a=n.a.createElement(M.a.Paragraph,null,"This hero is a ",n.a.createElement("b",null,null===t||void 0===t?void 0:t.name," ",null===r||void 0===r?void 0:r.name," ",null===l||void 0===l?void 0:l.name))}var i=null;return this.state.hero.items.length>0&&(i=n.a.createElement(M.a.Paragraph,null,"Items: ",n.a.createElement("b",null,this.state.hero.items.map(e=>e.name).join(", ")))),n.a.createElement("div",null,a,i,e)}}class z extends n.a.Component{constructor(e){super(e),this.state={speciesIDs:y.shuffle(A.getDeck()).splice(0,3),roleIDs:y.shuffle(C.getDeck()).splice(0,3),backgroundIDs:y.shuffle(P.getDeck()).splice(0,3),selectedSpeciesID:"",selectedRoleID:"",selectedBackgroundID:""}}selectSpecies(e){""===this.state.selectedSpeciesID&&this.setState({selectedSpeciesID:e})}selectRole(e){""===this.state.selectedRoleID&&this.setState({selectedRoleID:e})}selectBackground(e){""===this.state.selectedBackgroundID&&this.setState({selectedBackgroundID:e})}select(){this.props.select(this.state.selectedSpeciesID,this.state.selectedRoleID,this.state.selectedBackgroundID)}render(){var e=this.state.speciesIDs.map(e=>{var a=A.getSpecies(e);return a?n.a.createElement(I.a,{span:8,key:a.id},n.a.createElement(Y,{back:"Species",display:""!==this.state.selectedSpeciesID&&this.state.selectedSpeciesID!==a.id?"back":"front",onClick:()=>this.selectSpecies(a.id)},n.a.createElement(J,null,n.a.createElement(M.a.Paragraph,{style:{textAlign:"center"}},n.a.createElement("b",null,a.name)),n.a.createElement(w.a,null),n.a.createElement(M.a.Paragraph,null,n.a.createElement("b",null,"Trait bonus:")," ",a.traits.map(e=>e.toString()).join(", ")),n.a.createElement(M.a.Paragraph,null,n.a.createElement("b",null,"Features:")," ",a.features.map(e=>E.getName(e)).join(", "))))):null}),a=this.state.roleIDs.map(e=>{var a=C.getRole(e);return a?n.a.createElement(I.a,{span:8,key:a.id},n.a.createElement(Y,{back:"Role",display:""!==this.state.selectedRoleID&&this.state.selectedRoleID!==a.id?"back":"front",onClick:()=>this.selectRole(a.id)},n.a.createElement(J,null,n.a.createElement(M.a.Paragraph,{style:{textAlign:"center"}},n.a.createElement("b",null,a.name)),n.a.createElement(w.a,null),n.a.createElement(M.a.Paragraph,null,n.a.createElement("b",null,"Trait bonus:")," ",a.traits.map(e=>e.toString()).join(", ")),n.a.createElement(M.a.Paragraph,null,n.a.createElement("b",null,"Skill bonus:")," ",a.skills.map(e=>e.toString()).join(", ")),n.a.createElement(M.a.Paragraph,null,n.a.createElement("b",null,"Proficiencies:")," ",a.proficiencies.map(e=>e.toString()).join(", ")),n.a.createElement(M.a.Paragraph,null,n.a.createElement("b",null,"Features:")," ",a.features.map(e=>E.getName(e)).join(", "))))):null}),t=this.state.backgroundIDs.map(e=>{var a=P.getBackground(e);return a?n.a.createElement(I.a,{span:8,key:a.id},n.a.createElement(Y,{back:"Background",display:""!==this.state.selectedBackgroundID&&this.state.selectedBackgroundID!==a.id?"back":"front",onClick:()=>this.selectBackground(a.id)},n.a.createElement(J,null,n.a.createElement(M.a.Paragraph,{style:{textAlign:"center"}},n.a.createElement("b",null,a.name)),n.a.createElement(w.a,null),n.a.createElement(M.a.Paragraph,null,n.a.createElement("b",null,"Features:")," ",a.features.map(e=>E.getName(e)).join(", "))))):null}),r=""!==this.state.selectedSpeciesID&&""!==this.state.selectedRoleID&&""!==this.state.selectedBackgroundID;return n.a.createElement("div",null,n.a.createElement(M.a.Paragraph,null,"Select one of these ",n.a.createElement("b",null,"species")," cards:"),n.a.createElement(R.a,{gutter:10},e),n.a.createElement(w.a,null),n.a.createElement(M.a.Paragraph,null,"Select one of these ",n.a.createElement("b",null,"role")," cards:"),n.a.createElement(R.a,{gutter:10},a),n.a.createElement(w.a,null),n.a.createElement(M.a.Paragraph,null,"Select one of these ",n.a.createElement("b",null,"background")," cards:"),n.a.createElement(R.a,{gutter:10},t),n.a.createElement(w.a,null),n.a.createElement(B.a,{block:!0,type:"primary",disabled:!r,onClick:()=>this.select()},"Select these cards"))}}class Q extends n.a.Component{constructor(e){super(e),this.state={items:[]}}selectItem(e){var a=V.getItem(e);if(a&&!this.state.items.find(e=>e.proficiency===a.proficiency)){var t=this.state.items;t.push(a),this.setState({items:t})}}render(){var e=C.getRole(this.props.hero.roleID);if(!e)return null;var a=e.proficiencies.map((e,a)=>{var t=this.state.items.filter(a=>a.proficiency===e).map(e=>e.id),r=V.getItems(e).map(e=>{var a=null;return e.weapon&&(a=n.a.createElement("div",null,n.a.createElement(M.a.Paragraph,null,n.a.createElement("b",null,"Damage:")," ",e.weapon.damage.rank," ",e.weapon.damage.type),n.a.createElement(M.a.Paragraph,null,n.a.createElement("b",null,"Range:")," ",e.weapon.range),n.a.createElement(M.a.Paragraph,null,n.a.createElement("b",null,"Unreliable:")," ",e.weapon.unreliable))),n.a.createElement(I.a,{span:6,key:e.id},n.a.createElement(Y,{back:"Item",display:0===t.length||t.includes(e.id)?"front":"back",onClick:()=>this.selectItem(e.id)},n.a.createElement(J,null,n.a.createElement(M.a.Paragraph,{style:{textAlign:"center"}},n.a.createElement("b",null,e.name)),n.a.createElement(w.a,null),n.a.createElement(M.a.Paragraph,null,n.a.createElement("b",null,"Proficiency:")," ",e.proficiency),n.a.createElement(M.a.Paragraph,null,n.a.createElement("b",null,"Location:")," ",e.location),a,n.a.createElement(M.a.Paragraph,null,n.a.createElement("b",null,"Features:")," ",e.features.map(e=>E.getName(e)).join(", ")))))});return n.a.createElement("div",{key:a},n.a.createElement(M.a.Paragraph,null,"Choose an item for ",n.a.createElement("b",null,e),":"),n.a.createElement(R.a,{gutter:10},r),n.a.createElement(w.a,null))}),t=this.state.items.length===e.proficiencies.length;return n.a.createElement("div",null,a,n.a.createElement(B.a,{block:!0,type:"primary",disabled:!t,onClick:()=>this.props.addItems(this.state.items)},"Select these items"))}}class q extends n.a.Component{constructor(e){super(e),this.state={selectedTrait:p.Any,selectedSkill:m.Any,selectedFeature:null}}render(){var e=this.state.selectedTrait!==p.Any,a=this.state.selectedSkill!==m.Any,t=null!==this.state.selectedFeature&&!E.hasChoice(this.state.selectedFeature),r=e&&a&&t;return n.a.createElement("div",null,n.a.createElement(M.a.Paragraph,null,"Choose a ",n.a.createElement("b",null,"trait")," to increment:"),n.a.createElement($,{onSelect:e=>this.setState({selectedTrait:e})}),n.a.createElement(w.a,null),n.a.createElement(M.a.Paragraph,null,"Choose a ",n.a.createElement("b",null,"skill")," to increment:"),n.a.createElement(_,{onSelect:e=>this.setState({selectedSkill:e})}),n.a.createElement(w.a,null),n.a.createElement(M.a.Paragraph,null,"Choose a ",n.a.createElement("b",null,"feature"),":"),n.a.createElement(ne,{hero:this.props.hero,feature:this.state.selectedFeature,onSelect:e=>{null===this.state.selectedFeature&&this.setState({selectedFeature:e})},onSelectDamageCategory:e=>{var a=this.state.selectedFeature;a&&(a.damageCategory=e,this.setState({selectedFeature:a}))},onSelectDamageType:e=>{var a=this.state.selectedFeature;a&&(a.damage=e,this.setState({selectedFeature:a}))},onSelectProficiency:e=>{var a=this.state.selectedFeature;a&&(a.proficiency=e,this.setState({selectedFeature:a}))},onSelectSkill:e=>{var a=this.state.selectedFeature;a&&(a.skill=e,this.setState({selectedFeature:a}))},onSelectSkillCategory:e=>{var a=this.state.selectedFeature;a&&(a.skillCategory=e,this.setState({selectedFeature:a}))},onSelectTrait:e=>{var a=this.state.selectedFeature;a&&(a.trait=e,this.setState({selectedFeature:a}))}}),n.a.createElement(w.a,null),n.a.createElement(B.a,{block:!0,type:"primary",disabled:!r,onClick:()=>this.props.finished(this.state.selectedTrait,this.state.selectedSkill,this.state.selectedFeature)},"OK"))}}class $ extends n.a.Component{render(){return n.a.createElement("div",null,n.a.createElement(U.a.Group,{buttonStyle:"solid",onChange:e=>this.props.onSelect(e.target.value)},n.a.createElement(U.a.Button,{value:p.Endurance},"Endurance"),n.a.createElement(U.a.Button,{value:p.Resolve},"Resolve"),n.a.createElement(U.a.Button,{value:p.Speed},"Speed")))}}class _ extends n.a.Component{render(){return n.a.createElement("div",null,n.a.createElement(U.a.Group,{buttonStyle:"solid",onChange:e=>this.props.onSelect(e.target.value)},n.a.createElement(U.a.Button,{value:m.Athletics},"Athletics"),n.a.createElement(U.a.Button,{value:m.Brawl},"Brawl"),n.a.createElement(U.a.Button,{value:m.Perception},"Perception"),n.a.createElement(U.a.Button,{value:m.Reactions},"Reactions"),n.a.createElement(U.a.Button,{value:m.Spellcasting},"Spellcasting"),n.a.createElement(U.a.Button,{value:m.Stealth},"Stealth"),n.a.createElement(U.a.Button,{value:m.Weapon},"Weapon")))}}class ee extends n.a.Component{render(){return n.a.createElement("div",null,n.a.createElement(U.a.Group,{buttonStyle:"solid",onChange:e=>this.props.onSelect(e.target.value)},n.a.createElement(U.a.Button,{value:d.Physical},"Physical skills"),n.a.createElement(U.a.Button,{value:d.Mental},"Mental skills")))}}class ae extends n.a.Component{render(){return n.a.createElement("div",null,n.a.createElement(U.a.Group,{buttonStyle:"solid",onChange:e=>this.props.onSelect(e.target.value)},n.a.createElement(U.a.Button,{value:u.MilitaryWeapons},"Military weapons"),n.a.createElement(U.a.Button,{value:u.LargeWeapons},"Large weapons"),n.a.createElement(U.a.Button,{value:u.PairedWeapons},"Paired weapons"),n.a.createElement(U.a.Button,{value:u.RangedWeapons},"Ranged weapons"),n.a.createElement(U.a.Button,{value:u.PowderWeapons},"Powder weapons"),n.a.createElement(U.a.Button,{value:u.Implements},"Implements"),n.a.createElement(U.a.Button,{value:u.LightArmor},"Light armor"),n.a.createElement(U.a.Button,{value:u.HeavyArmor},"Heavy armor"),n.a.createElement(U.a.Button,{value:u.Shields},"Shields")))}}class te extends n.a.Component{render(){return n.a.createElement("div",null,n.a.createElement(U.a.Group,{buttonStyle:"solid",onChange:e=>this.props.onSelect(e.target.value)},n.a.createElement(U.a.Button,{value:o.Acid},"Acid"),n.a.createElement(U.a.Button,{value:o.Edged},"Edged"),n.a.createElement(U.a.Button,{value:o.Impact},"Impact"),n.a.createElement(U.a.Button,{value:o.Piercing},"Piercing"),n.a.createElement(U.a.Button,{value:o.Cold},"Cold"),n.a.createElement(U.a.Button,{value:o.Electricity},"Electricity"),n.a.createElement(U.a.Button,{value:o.Fire},"Fire"),n.a.createElement(U.a.Button,{value:o.Light},"Light"),n.a.createElement(U.a.Button,{value:o.Sonic},"Sonic"),n.a.createElement(U.a.Button,{value:o.Decay},"Decay"),n.a.createElement(U.a.Button,{value:o.Poison},"Poison"),n.a.createElement(U.a.Button,{value:o.Psychic},"Psychic")))}}class re extends n.a.Component{render(){return n.a.createElement("div",null,n.a.createElement(U.a.Group,{buttonStyle:"solid",onChange:e=>this.props.onSelect(e.target.value)},n.a.createElement(U.a.Button,{value:c.Physical},"Physical damage"),n.a.createElement(U.a.Button,{value:c.Energy},"Energy damage"),n.a.createElement(U.a.Button,{value:c.Corruption},"Corruption damage")))}}class ne extends n.a.Component{constructor(e){super(e),this.state={features:y.shuffle(b.featureDeck(e.hero)).splice(0,3)}}render(){var e=this.state.features.map(e=>n.a.createElement(I.a,{span:8,key:e.id},n.a.createElement(Y,{back:"Feature",display:null!==this.props.feature&&this.props.feature.id!==e.id?"back":"front",onClick:()=>this.props.onSelect(e)},n.a.createElement(G,null,E.getName(e))))),a=null;if(this.props.feature)switch(this.props.feature.type){case h.DamageBonus:case h.DamageResist:this.props.feature.damage===o.Any&&(a=n.a.createElement(te,{onSelect:e=>this.props.onSelectDamageType(e)}));break;case h.DamageCategoryBonus:case h.DamageCategoryResist:this.props.feature.damageCategory===c.Any&&(a=n.a.createElement(re,{onSelect:e=>this.props.onSelectDamageCategory(e)}));break;case h.Proficiency:this.props.feature.proficiency===u.Any&&(a=n.a.createElement(ae,{onSelect:e=>this.props.onSelectProficiency(e)}));break;case h.Skill:this.props.feature.skill===m.Any&&(a=n.a.createElement(_,{onSelect:e=>this.props.onSelectSkill(e)}));break;case h.SkillCategory:this.props.feature.skillCategory===d.Any&&(a=n.a.createElement(ee,{onSelect:e=>this.props.onSelectSkillCategory(e)}));break;case h.Trait:this.props.feature.trait===p.Any&&(a=n.a.createElement($,{onSelect:e=>this.props.onSelectTrait(e)}))}return n.a.createElement("div",null,n.a.createElement(R.a,{gutter:10},e,a))}}class le extends n.a.Component{constructor(e){super(e),this.state={selectedHero:null}}render(){var e=this.props.game.heroes.map(e=>{var a=null;a=e.name===b.PlaceholderName?n.a.createElement(G,null,"Hero"):n.a.createElement(J,null,n.a.createElement(j,{hero:e,display:"mini"}));var t=null;return e.xp>=e.level&&(t=n.a.createElement(w.a,null,"Level Up")),n.a.createElement(I.a,{span:4,key:e.id},n.a.createElement(J,null,n.a.createElement(Y,{onClick:()=>this.setState({selectedHero:e})},a),t,n.a.createElement(B.a,{block:!0,onClick:()=>this.props.incrementXP(e)},"Add XP")))}),a="",t=null,r=!1;this.state.selectedHero&&(this.state.selectedHero.name===b.PlaceholderName?(a="Create a New Hero",t=n.a.createElement(Z,{finished:e=>{this.setState({selectedHero:null},()=>{e.name=x.generateName(),this.props.addHero(e)})}})):this.state.selectedHero.xp>=this.state.selectedHero.level?(a="Level Up",t=n.a.createElement(q,{hero:this.state.selectedHero,finished:(e,a,t)=>{var r=this.state.selectedHero;this.setState({selectedHero:null},()=>{this.props.levelUp(r,e,a,t)})}})):(a="Character Sheet",t=n.a.createElement(j,{hero:this.state.selectedHero}),r=!0));var l=null,i=null;return this.props.game.heroes.every(e=>e.name!==b.PlaceholderName)?i=n.a.createElement("div",null,n.a.createElement(w.a,null),n.a.createElement(B.a,{block:!0,onClick:()=>this.props.back()},"Campaign Map")):l=n.a.createElement(M.a.Paragraph,null,"Click on a blank hero card to create a new level 1 hero."),n.a.createElement("div",null,l,n.a.createElement(R.a,null,e),i,n.a.createElement(L.a,{title:a,width:"50%",visible:null!==t,closable:r,maskClosable:r,onClose:()=>this.setState({selectedHero:null})},t))}}class ie extends n.a.Component{render(){return this.props.game&&this.props.game.map?n.a.createElement("div",null,n.a.createElement(B.a,{block:!0,type:"primary",onClick:()=>this.props.continueCampaign()},"Continue your campaign")):n.a.createElement("div",null,n.a.createElement(B.a,{block:!0,type:"primary",onClick:()=>this.props.startCampaign()},"Start a new campaign"))}}class se extends n.a.Component{constructor(e){super(e),this.saveAfterDelay=y.debounce(()=>this.save(),5e3);var a=null;try{var t=window.localStorage.getItem("game");t&&(a=JSON.parse(t))}catch(r){console.error("Could not parse JSON: ",r)}this.state={screen:"landing",game:a}}componentDidUpdate(){this.saveAfterDelay()}changeValue(e,a,t){for(var r=a.split("."),n=e,l=0;l!==r.length;++l){var i=r[l];l===r.length-1?n[i]=t:n=n[i]}this.setState({})}nudgeValue(e,a,t){for(var r=a.split("."),n=e,l=0;l!==r.length;++l){var i=r[l];if(l===r.length-1){var s=n[i]+t;this.changeValue(n,i,s)}else n=n[i]}}save(){this.saveKey(this.state.game,"game")}saveKey(e,a){try{var t=JSON.stringify(e);window.localStorage.setItem(a,t)}catch(r){console.error("Could not stringify data: ",r)}}getContent(){switch(this.state.screen){case"landing":return n.a.createElement(ie,{game:this.state.game,startCampaign:()=>{this.setState({game:F.createGame(),screen:"heroes"})},continueCampaign:()=>{null!==this.state.game&&this.state.game.heroes.every(e=>e.name!==b.PlaceholderName)?this.setState({screen:"campaign-map"}):this.setState({screen:"heroes"})}});case"campaign-map":return n.a.createElement(T,{game:this.state.game,viewHeroes:()=>{this.setState({screen:"heroes"})},startEncounter:()=>{this.state.game&&(this.state.game.encounter=class{static createEncounter(){return{heroIDs:[],monsters:[],map:s.createMap()}}}.createEncounter());this.setState({game:this.state.game,screen:"encounter"})},abandonCampaign:()=>{this.setState({game:null,screen:"landing"})}});case"heroes":return n.a.createElement(le,{game:this.state.game,addHero:e=>{if(this.state.game){var a=this.state.game,t=this.state.game.heroes.findIndex(a=>a.id===e.id);-1===t?a.heroes.push(e):a.heroes[t]=e,y.sort(a.heroes),this.setState({game:a})}},levelUp:(e,a,t,r)=>{e.features.push(E.createTraitFeature(a,1)),e.features.push(E.createSkillFeature(t,1)),e.features.push(r),e.level+=1,e.xp=0,this.setState({game:this.state.game})},incrementXP:e=>{e.xp+=1,this.setState({game:this.state.game})},back:()=>{this.setState({screen:"campaign-map"})}});case"encounter":if(this.state.game&&this.state.game.encounter)return n.a.createElement(W,{encounter:this.state.game.encounter,finish:()=>{this.setState({screen:"campaign-map"})}})}return n.a.createElement("div",null,this.state.screen)}getHeading(){switch(this.state.screen){case"heroes":return"Your Heroes"}return"Skirmish"}render(){try{return n.a.createElement("div",{className:"skirmish"},n.a.createElement("div",{className:"top-bar"},this.getHeading()),n.a.createElement("div",{className:"content"},this.getContent()))}catch(e){return console.error(e),n.a.createElement("div",{className:"render-error"})}}}i.a.render(n.a.createElement(se,null),document.getElementById("root"))}},[[100,1,2]]]);
//# sourceMappingURL=main.5618bb77.chunk.js.map